{"version":3,"sources":["webpack://Charts/webpack/universalModuleDefinition","webpack://Charts/webpack/bootstrap","webpack://Charts/./demo/chart-types.ts","webpack://Charts/./demo/demo-data/bar.ts","webpack://Charts/./demo/demo-data/colors.ts","webpack://Charts/./demo/demo-data/combo.ts","webpack://Charts/./demo/demo-data/index.ts","webpack://Charts/./demo/demo-data/line.ts","webpack://Charts/./demo/demo-data/pie-donut.ts","webpack://Charts/./demo/demo-data/themes.ts","webpack://Charts/./demo/demo-options.ts","webpack://Charts/./demo/index.scss?6301","webpack://Charts/./demo/index.ts","webpack://Charts/./src/assets/patterns/index.ts","webpack://Charts/./src/assets/patterns/pattern-1.ts","webpack://Charts/./src/assets/patterns/pattern-2.ts","webpack://Charts/./src/assets/patterns/pattern-3.ts","webpack://Charts/./src/assets/patterns/pattern-4.ts","webpack://Charts/./src/assets/patterns/pattern-5.ts","webpack://Charts/./src/assets/patterns/pattern-6.ts","webpack://Charts/./src/assets/patterns/pattern-7.ts","webpack://Charts/./src/assets/patterns/pattern-8.ts","webpack://Charts/./src/bar-chart.ts","webpack://Charts/./src/base-axis-chart.ts","webpack://Charts/./src/base-chart.ts","webpack://Charts/./src/combo-chart.ts","webpack://Charts/./src/components/index.ts","webpack://Charts/./src/components/overlay.ts","webpack://Charts/./src/components/tooltip.ts","webpack://Charts/./src/configuration.ts","webpack://Charts/./src/donut-chart.ts","webpack://Charts/./src/index.ts","webpack://Charts/./src/line-chart.ts","webpack://Charts/./src/pie-chart.ts","webpack://Charts/./src/polyfills.ts","webpack://Charts/./src/scatter-chart.ts","webpack://Charts/./src/services/colorPalettes.ts","webpack://Charts/./src/services/colors.ts","webpack://Charts/./src/services/curves.ts","webpack://Charts/./src/services/patterns.ts","webpack://Charts/./src/stacked-bar-chart.ts","webpack://Charts/./src/styles/style.scss?9939","webpack://Charts/./src/tools.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;ACvJM;AAAA;AAAA,kFAqB0B;AApB/B,MAAM;AACN,wCAAiB,EACjB,kCAAc,EACd,sCAAgB,EAChB,gCAAa,EACb,kCAAc,EACd,wCAAiB;AACjB,cAAc;AACd,0BAAU,EACV,oBAAO,EACP,8BAAY;AACZ,OAAO;AACP,wCAAiB,EACjB,kCAAc,EACd,sBAAQ,EACR,4BAAW,EACX,4BAAW;AACX,QAAQ;AACR,wBAAS,EACT,8BAAY,CACoB;AAE1B,IAAM,UAAU,GAAG;IACz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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Charts\"] = factory();\n\telse\n\t\troot[\"Charts\"] = factory();\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonpCharts\"] = window[\"webpackJsonpCharts\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./demo/index.ts\",\"vendors~main\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","const {\n\t// Bar\n\tgroupedBarOptions,\n\tgroupedBarData,\n\tsimpleBarOptions,\n\tsimpleBarData,\n\tstackedBarData,\n\tstackedBarOptions,\n\t// Pie & donut\n\tpieOptions,\n\tpieData,\n\tdonutOptions,\n\t// Line\n\tcurvedLineOptions,\n\tcurvedLineData,\n\tlineData,\n\tlineOptions,\n\tscatterData,\n\t// Combo\n\tcomboData,\n\tcomboOptions\n} = require(\"./demo-data/index\");\n\nexport const chartTypes = [\n\t{\n\t\tid: \"grouped-bar\",\n\t\tname: \"Grouped Bar\",\n\t\toptions: groupedBarOptions,\n\t\tdata: groupedBarData\n\t},\n\t{\n\t\tid: \"simple-bar\",\n\t\tname: \"Bar\",\n\t\toptions: simpleBarOptions,\n\t\tdata: simpleBarData\n\t},\n\t{\n\t\tid: \"combo\",\n\t\tname: \"Combo\",\n\t\toptions: comboOptions,\n\t\tdata: comboData\n\t},\n\t{\n\t\tid: \"stacked-bar\",\n\t\tname: \"Bar\",\n\t\toptions: stackedBarOptions,\n\t\tdata: stackedBarData\n\t},\n\t{\n\t\tid: \"simple-bar-accessible\",\n\t\tname: \"Accessible Bar\",\n\t\toptions: Object.assign({}, simpleBarOptions, {accessibility: true}),\n\t\tdata: simpleBarData\n\t},\n\t{\n\t\tid: \"stacked-bar-accessible\",\n\t\tname: \"Bar\",\n\t\toptions: Object.assign({}, stackedBarOptions, {accessibility: true}),\n\t\tdata: stackedBarData\n\t},\n\t{\n\t\tid: \"curved-line\",\n\t\tname: \"Curved Line\",\n\t\toptions: curvedLineOptions,\n\t\tdata: curvedLineData\n\t},\n\t{\n\t\tid: \"line\",\n\t\tname: \"Line\",\n\t\toptions: lineOptions,\n\t\tdata: lineData\n\t},\n\t{\n\t\tid: \"line-step\",\n\t\tname: \"Step\",\n\t\toptions: Object.assign({}, lineOptions, {curve: \"curveStepAfter\"}),\n\t\tdata: lineData\n\t},\n\t{\n\t\tid: \"pie\",\n\t\tname: \"pie\",\n\t\toptions: pieOptions,\n\t\tdata: pieData\n\t},\n\t{\n\t\tid: \"donut\",\n\t\tname: \"donut\",\n\t\toptions: donutOptions,\n\t\tdata: pieData\n\t},\n\t{\n\t\tid: \"scatter\",\n\t\tname: \"scatter\",\n\t\toptions: lineOptions,\n\t\tdata: scatterData\n\t}\n];\n","import { colors } from \"./colors\";\nimport { getTheme } from \"./themes\";\n\nexport const groupedBarData = {\n\tlabels: [\"Qty\", \"More\", \"Sold\", \"Restocking\", \"Misc\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: [colors[0]],\n\t\t\tdata: [\n\t\t\t\t65000,\n\t\t\t\t-29123,\n\t\t\t\t-35213,\n\t\t\t\t51213,\n\t\t\t\t16932\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 2\",\n\t\t\tbackgroundColors: [colors[1]],\n\t\t\tdata: [\n\t\t\t\t32432,\n\t\t\t\t-21312,\n\t\t\t\t-56456,\n\t\t\t\t-21312,\n\t\t\t\t34234\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 3\",\n\t\t\tbackgroundColors: [colors[2]],\n\t\t\tdata: [\n\t\t\t\t-12312,\n\t\t\t\t23232,\n\t\t\t\t34232,\n\t\t\t\t-12312,\n\t\t\t\t-34234\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 4\",\n\t\t\tbackgroundColors: [colors[3]],\n\t\t\tdata: [\n\t\t\t\t-32423,\n\t\t\t\t21313,\n\t\t\t\t64353,\n\t\t\t\t24134,\n\t\t\t\t32423\n\t\t\t]\n\t\t}\n\t]\n};\n\nexport const groupedBarOptions = {\n\tscales: {\n\t\tx: {\n\t\t\ttitle: \"2018 Annual Sales Figures\",\n\t\t},\n\t\ty: {\n\t\t\ttitle: \"Dollars (CAD)\",\n\t\t\tformatter: axisValue => `${axisValue / 1000}k`,\n\t\t\tyMaxAdjuster: yMaxValue => yMaxValue * 1.1,\n\t\t},\n\t\ty2: {\n\t\t\tticks: {\n\t\t\t\tmax: 1,\n\t\t\t\tmin: 0\n\t\t\t},\n\t\t\tformatter: axisValue => `${axisValue * 100}%`\n\t\t}\n\t},\n\ttooltip: {\n\t\tsize: \"compact\"\n\t},\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\ttheme: getTheme()\n};\n\n// Simple bar\nexport const simpleBarData = {\n\tlabels: [\"Qty\", \"More\", \"Sold\", \"Restocking\", \"Miscellaneous\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: colors,\n\t\t\tdata: [\n\t\t\t\t65000,\n\t\t\t\t29123,\n\t\t\t\t35213,\n\t\t\t\t51213,\n\t\t\t\t16932\n\t\t\t]\n\t\t}\n\t]\n};\n\nexport const simpleBarOptions = {\n\taccessibility: false,\n\tscales: {\n\t\tx: {\n\t\t\ttitle: \"2018 Annual Sales Figures\",\n\t\t},\n\t\ty: {\n\t\t\ttitle: \"Dollars (CAD)\",\n\t\t\tformatter: axisValue => `${axisValue / 1000}k`,\n\t\t\tyMaxAdjuster: yMaxValue => yMaxValue * 1.1,\n\t\t\tstacked: false\n\t\t}\n\t},\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\ttheme: getTheme(),\n\tbars: {\n\t\tmaxWidth: 50\n\t},\n};\n\n// Stacked bar\nexport const stackedBarData = {\n\tlabels: [\"Qty\", \"More\", \"Sold\", \"Restocking\", \"Misc\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: [colors[0]],\n\t\t\tdata: [\n\t\t\t\t65000,\n\t\t\t\t29123,\n\t\t\t\t35213,\n\t\t\t\t51213,\n\t\t\t\t16932\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 2\",\n\t\t\tbackgroundColors: [colors[1]],\n\t\t\tdata: [\n\t\t\t\t32432,\n\t\t\t\t21312,\n\t\t\t\t56456,\n\t\t\t\t21312,\n\t\t\t\t34234\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 3\",\n\t\t\tbackgroundColors: [colors[2]],\n\t\t\tdata: [\n\t\t\t\t12312,\n\t\t\t\t23232,\n\t\t\t\t34232,\n\t\t\t\t12312,\n\t\t\t\t34234\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 4\",\n\t\t\tbackgroundColors: [colors[3]],\n\t\t\tdata: [\n\t\t\t\t32423,\n\t\t\t\t21313,\n\t\t\t\t64353,\n\t\t\t\t24134,\n\t\t\t\t32423\n\t\t\t]\n\t\t}\n\t]\n};\n\nexport const stackedBarOptions = {\n\taccessibility: false,\n\tscales: {\n\t\tx: {\n\t\t\ttitle: \"2018 Annual Sales Figures\",\n\t\t},\n\t\ty: {\n\t\t\ttitle: \"Dollars (CAD)\",\n\t\t\tformatter: axisValue => `${axisValue / 1000}k`,\n\t\t\tyMaxAdjuster: yMaxValue => yMaxValue * 1.1,\n\t\t\tstacked: true\n\t\t}\n\t},\n\ttooltip: {\n\t\tsize: \"compact\"\n\t},\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\ttheme: getTheme()\n};\n","import { colorPalettes } from \"../../src/index\";\n\nconst urlParams = new URLSearchParams(window.location.search);\n\n// Grab \"theme\" param from query string\nlet themeToUse = colorPalettes.DEFAULT;\nif (urlParams.has(\"theme\") && colorPalettes[urlParams.get(\"theme\")]) {\n    themeToUse = colorPalettes[urlParams.get(\"theme\")];\n}\n\nexport const colors = themeToUse;\n","import { colors } from \"./colors\";\nimport { getTheme } from \"./themes\";\n\nexport const comboData = {\n\tlabels: [\"Qty\", \"More\", \"Sold\", \"Restocking\", \"Misc\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: [colors[0]],\n\t\t\tdata: [\n\t\t\t\t65000,\n\t\t\t\t-29123,\n\t\t\t\t-35213,\n\t\t\t\t51213,\n\t\t\t\t16932\n\t\t\t],\n\t\t\tchartType: \"BarChart\"\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 2\",\n\t\t\tbackgroundColors: [colors[2]],\n\t\t\tdata: [\n\t\t\t\t-12312,\n\t\t\t\t23232,\n\t\t\t\t34232,\n\t\t\t\t-12312,\n\t\t\t\t-34234\n\t\t\t],\n\t\t\tchartType: \"BarChart\"\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 3\",\n\t\t\tbackgroundColors: [colors[3]],\n\t\t\tdata: [\n\t\t\t\t-32423,\n\t\t\t\t21313,\n\t\t\t\t64353,\n\t\t\t\t24134,\n\t\t\t\t32423\n\t\t\t],\n\t\t\tchartType: \"BarChart\"\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 4\",\n\t\t\tbackgroundColors: [colors[1]],\n\t\t\tdata: [\n\t\t\t\t32432,\n\t\t\t\t11312,\n\t\t\t\t3234,\n\t\t\t\t43534,\n\t\t\t\t34234\n\t\t\t],\n\t\t\tchartType: \"LineChart\"\n\t\t}\n\t]\n};\n\nexport const comboOptions = {\n\tscales: {\n\t\tx: {\n\t\t\ttitle: \"2018 Annual Sales Figures\",\n\t\t},\n\t\ty: {\n\t\t\tformatter: axisValue => `${axisValue / 1000}k`,\n\t\t\tyMaxAdjuster: yMaxValue => yMaxValue * 1.1,\n\t\t},\n\t\ty2: {\n\t\t\tticks: {\n\t\t\t\tmax: 70,\n\t\t\t\tmin: -60\n\t\t\t}\n\t\t}\n\t},\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\ttheme: getTheme()\n};\n","export { colors } from \"./colors\";\n\nexport * from \"./bar\";\nexport * from \"./pie-donut\";\nexport * from \"./line\";\nexport * from \"./combo\";\n","import { colors } from \"./colors\";\nimport { getTheme } from \"./themes\";\n\nexport const curvedLineData = {\n\tlabels: [\"Qty\", \"More\", \"Sold\", \"Restocking\", \"Misc\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: [colors[0]],\n\t\t\tdata: [\n\t\t\t\t65000,\n\t\t\t\t79000,\n\t\t\t\t49213,\n\t\t\t\t51213,\n\t\t\t\t16932\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 2\",\n\t\t\tbackgroundColors: [colors[1]],\n\t\t\tdata: [\n\t\t\t\t80000,\n\t\t\t\t21312,\n\t\t\t\t56456,\n\t\t\t\t21312,\n\t\t\t\t0\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 3\",\n\t\t\tbackgroundColors: [colors[2]],\n\t\t\tdata: [\n\t\t\t\t12312,\n\t\t\t\t34232,\n\t\t\t\t39232,\n\t\t\t\t12312,\n\t\t\t\t34234\n\t\t\t]\n\t\t}\n\t]\n};\n\nexport const curvedLineOptions = {\n\taccessibility: false,\n\tscales: {\n\t\tx: {\n\t\t\ttitle: \"2018 Annual Sales Figures\",\n\t\t},\n\t\ty: {\n\t\t\ttitle: \"Dollars (CAD)\",\n\t\t\tyMaxAdjuster: yMax => yMax * 1.2,\n\t\t\tyMinAdjuster: yMin => yMin * 1.2,\n\t\t\tformatter: axisValue => `${axisValue / 1000}k`\n\t\t},\n\t\ty2: {\n\t\t\tticks: {\n\t\t\t\tmax: 1,\n\t\t\t\tmin: 0\n\t\t\t}\n\t\t}\n\t},\n\tcurve: {\n\t\tname: \"curveNatural\"\n\t},\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\ttheme: getTheme()\n};\n\n\nexport const lineData = {\n\tlabels: [\"Qty\", \"More\", \"Sold\", \"Restocking\", \"Misc\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: [colors[0]],\n\t\t\tdata: [\n\t\t\t\t2000,\n\t\t\t\t4200,\n\t\t\t\t7000,\n\t\t\t\t4000,\n\t\t\t\t19000\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 2\",\n\t\t\tbackgroundColors: [colors[1]],\n\t\t\tdata: [\n\t\t\t\t0,\n\t\t\t\t10000,\n\t\t\t\t20000,\n\t\t\t\t30000,\n\t\t\t\t40000\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 3\",\n\t\t\tbackgroundColors: [colors[2]],\n\t\t\tdata: [\n\t\t\t\t0,\n\t\t\t\t20000,\n\t\t\t\t40000,\n\t\t\t\t60000,\n\t\t\t\t80000\n\t\t\t]\n\t\t}\n\t]\n};\n\nexport const lineOptions = {\n\taccessibility: false,\n\tscales: {\n\t\tx: {\n\t\t\ttitle: \"2018 Annual Sales Figures\",\n\t\t},\n\t\ty: {\n\t\t\ttitle: \"Dollars (CAD)\",\n\t\t\tyMaxAdjuster: yMax => yMax * 1.2,\n\t\t\tyMinAdjuster: yMin => yMin * 1.2,\n\t\t\tformatter: axisValue => `${axisValue / 1000}k`,\n\t\t\tthresholds: [\n\t\t\t\t{\n\t\t\t\t\trange: [-20000, 30000],\n\t\t\t\t\ttheme: \"success\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trange: [30000, 40000],\n\t\t\t\t\ttheme: \"danger\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trange: [40000, 70000],\n\t\t\t\t\ttheme: \"warning\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\ttheme: getTheme()\n};\n\nexport const scatterData = {\n\tlabels: [\"Qty\", \"More\", \"Sold\", \"Restocking\", \"Misc\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: [colors[0]],\n\t\t\tdata: [\n\t\t\t\t32100,\n\t\t\t\t23500,\n\t\t\t\t53100,\n\t\t\t\t42300,\n\t\t\t\t12300\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 2\",\n\t\t\tbackgroundColors: [colors[1]],\n\t\t\tdata: [\n\t\t\t\t34200,\n\t\t\t\t53200,\n\t\t\t\t42300,\n\t\t\t\t21400,\n\t\t\t\t0\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tlabel: \"Dataset 3\",\n\t\t\tbackgroundColors: [colors[2]],\n\t\t\tdata: [\n\t\t\t\t41200,\n\t\t\t\t23400,\n\t\t\t\t34210,\n\t\t\t\t1400,\n\t\t\t\t42100\n\t\t\t]\n\t\t}\n\t]\n};\n","import { colors } from \"./colors\";\nimport { getTheme } from \"./themes\";\n\nexport const pieOptions = {\n\taccessibility: false,\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\tcolors,\n\ttheme: getTheme()\n};\n\nexport const donutOptions = {\n\taccessibility: false,\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\ttheme: getTheme(),\n\tcolors,\n\tcenter: {\n\t\tlabel: \"Products\",\n\t\tnumber: 300000\n\t},\n};\n\nexport const pieData = {\n\tlabels: [\"2V2N 9KYPM version 1\", \"L22I P66EP L22I P66EP L22I P66EP\", \"JQAI 2M4L1\", \"J9DZ F37AP\",\n\t\t\"YEL48 Q6XK YEL48\", \"P66EP L22I L22I\", \"Q6XK YEL48\", \"XKB5 L6EP\", \"YEL48 Q6XK\", \"L22I P66EP L22I\"],\n\tdatasets: [\n\t\t{\n\t\t\tlabel: \"Dataset 1\",\n\t\t\tbackgroundColors: colors,\n\t\t\tdata: [70000, 40000, 90000, 50000, 60000, 45000, 90000, 70000, 80000, 120000]\n\t\t}\n\t]\n};\n","const urlParams = new URLSearchParams(window.location.search);\nconst { ChartTheme } = require(\"./../../src/configuration\");\n\nexport const getTheme = () => {\n\tif (urlParams.has(\"theme\")) {\n\t\tswitch (urlParams.get(\"theme\")) {\n\t\t\tcase \"G10\":\n\t\t\t\treturn ChartTheme.G10;\n\t\t\tcase \"G90\":\n\t\t\t\treturn ChartTheme.G90;\n\t\t\tcase \"G100\":\n\t\t\t\treturn ChartTheme.G100;\n\t\t\tdefault:\n\t\t\t\treturn ChartTheme.WHITE;\n\t\t}\n\t} else {\n\t\treturn ChartTheme.WHITE;\n\t}\n};\n","import { colorPalettes } from \"../src/index\";\n\nexport const setOrUpdateParam = (name, value) => {\n    const params = new URLSearchParams(location.search)\n\n    // Remove any existing \"theme\" param\n    if (params.has(name)) {\n        params.delete(name);\n    }\n\n    params.append(name, value);\n\n    location.search = params.toString();\n};\n\n// Theme selector\nconst initializeThemeSelector = () => {\n    const dropdownOptions = Array.prototype.slice.call(\n        document.querySelectorAll(\"div.theme-selector a.bx--dropdown-link\")\n    );\n\n    // Set click listeners for the dropdown options\n    dropdownOptions.forEach(dropdownOption => {\n        dropdownOption.addEventListener(\"click\", e => {\n            e.preventDefault();\n\n            setOrUpdateParam(\"theme\", e.target.parentNode.getAttribute(\"data-value\"));\n        });\n    });\n\n    // Set state for current theme\n    const params = new URLSearchParams(location.search)\n    let themeName;\n    if (params.has(\"theme\") && colorPalettes[params.get(\"theme\")]) {\n        themeName = params.get(\"theme\");\n    } else {\n        themeName = \"DEFAULT\";\n    }\n    const dropdownDefaultOption = document.querySelector(\"div.theme-selector li.bx--dropdown-text\");\n    const selectedOption = dropdownOptions.find(dO => dO.parentNode.getAttribute(\"data-value\") === themeName);\n\tdropdownDefaultOption.innerHTML = selectedOption.innerText;\n\n\t// Set dark theme on the window\n\tswitch (themeName) {\n\t\tcase \"G10\":\n\t\t\tdocument.body.classList.add(\"carbon--dark-g10\");\n\t\t\tbreak;\n\t\tcase \"G90\":\n\t\t\tdocument.body.classList.add(\"carbon--dark-g90\");\n\t\t\tbreak;\n\t\tcase \"G100\":\n\t\t\tdocument.body.classList.add(\"carbon--dark-g100\");\n\t\t\tbreak;\n\t}\n};\n\nexport const initializeDemoOptions = () => {\n    initializeThemeSelector();\n};\n","// extracted by mini-css-extract-plugin","import {\n\tBarChart,\n\tLineChart,\n\tPieChart,\n\tDonutChart,\n\tComboChart,\n\tScatterChart\n} from \"../src/index\";\n\n// Styles\nimport \"./index.scss\";\nimport \"./../src/styles/style.scss\";\n\n// Interfaces\nimport { ChartData } from \"./../src/configuration\";\n\n// Functionality for demo options toolbar\nimport { initializeDemoOptions } from \"./demo-options\";\n\n// Chart types\nimport { chartTypes } from \"./chart-types\";\n\ninitializeDemoOptions();\n\nconst classyCharts = {};\n\n// TODO - removeADataset shouldn't be used if chart legend is label based\nconst changeDemoData = (chartType: any, oldData: any, delay?: number) => {\n\t// Function to be used to randomize a value\n\tconst randomizeValue = currentVal => {\n\t\tconst firstTry = Math.max(0.5 * currentVal, currentVal * Math.random() * (Math.random() * 5));\n\t\tconst result = currentVal > 0 ? Math.min(2 * currentVal, firstTry) : Math.max(2 * currentVal, firstTry);\n\n\t\tif (Math.random() > 0.5\n\t\t\t|| chartType.indexOf(\"stacked\") !== -1\n\t\t\t|| chartType.indexOf(\"pie\") !== -1\n\t\t\t|| chartType.indexOf(\"donut\") !== -1) {\n\t\t\treturn Math.floor(result);\n\t\t} else {\n\t\t\treturn Math.floor(result) * -1;\n\t\t}\n\t};\n\n\t// Function to be used to randomize all datapoints\n\tconst updateChartData = currentData => {\n\t\tconst result = Object.assign({}, currentData);\n\t\tresult.datasets = currentData.datasets.map(dataset => {\n\t\t\tconst datasetNewData = dataset.data.map(dataPoint => randomizeValue(dataPoint));\n\n\t\t\tconst newDataset = Object.assign({}, dataset, { data: datasetNewData });\n\n\t\t\treturn newDataset;\n\t\t});\n\n\t\treturn result;\n\t};\n\n\tconst classyChartObject = classyCharts[chartType];\n\tlet newData;\n\n\tconst removeADataset = Math.random() > 0.5;\n\n\tswitch (chartType) {\n\t\tcase \"donut\":\n\t\t\t// Randomize old data values\n\t\t\tnewData = updateChartData(oldData);\n\n\t\t\t// Update donut center configurations\n\t\t\tclassyChartObject.options.center = {\n\t\t\t\tlabel: \"New Title\",\n\t\t\t\tnumber: randomizeValue(classyChartObject.center.configs.number)\n\t\t\t};\n\n\t\t\tbreak;\n\t\tcase \"pie\":\n\t\t\t// Randomize old data values\n\t\t\tnewData = updateChartData(oldData);\n\n\t\t\tbreak;\n\t\tdefault:\n\t\tcase \"grouped-bar\":\n\t\tcase \"simple-bar\":\n\t\tcase \"simple-bar-accessible\":\n\t\tcase \"stacked-bar\":\n\t\tcase \"stacked-bar-accessible\":\n\t\t\tnewData = updateChartData(oldData);\n\n\t\t\tif (removeADataset && chartType !== \"combo\") {\n\t\t\t\tconst randomIndex = Math.floor(Math.random() * (newData.datasets.length - 1));\n\t\t\t\tnewData.datasets.splice(randomIndex, randomIndex);\n\t\t\t}\n\n\t\t\tbreak;\n\t}\n\n\t// Handle setting the new data\n\tif (delay) {\n\t\tconst dataPromise = new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tresolve(newData);\n\t\t\t}, delay || 0);\n\t\t});\n\n\t\tclassyChartObject.setData(dataPromise);\n\t} else {\n\t\tclassyChartObject.setData(newData);\n\t}\n};\n\nconst setDemoActionsEventListener = (chartType: any, oldData: any) => {\n\tconst changeDataButton = document.getElementById(`change-data-${chartType}`);\n\tif (changeDataButton) {\n\t\tchangeDataButton.onclick = e => {\n\t\t\te.preventDefault();\n\n\t\t\tchangeDemoData(chartType, oldData);\n\t\t};\n\n\t\tconst actionsElement = document.getElementById(`actions-${chartType}`);\n\t\tif (actionsElement) {\n\t\t\tconst changeDataPromiseButtons = Array.prototype.slice.call(actionsElement.querySelectorAll(\".change-data-promise\"));\n\t\t\tchangeDataPromiseButtons.forEach(element => {\n\t\t\t\telement = <HTMLElement>element;\n\t\t\t\telement.onclick = e => {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tchangeDemoData(chartType, oldData, parseInt(element.getAttribute(\"data-promise-delay\"), 10));\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}\n};\n\nchartTypes.forEach(type => {\n\tconst classyContainer = document.getElementById(`classy-${type.id}-chart-holder`);\n\tif (classyContainer) {\n\t\tswitch (type.id) {\n\t\t\tdefault:\n\t\t\tcase \"simple-bar\":\n\t\t\tcase \"grouped-bar\":\n\t\t\tcase \"stacked-bar\":\n\t\t\tcase \"stacked-bar-accessible\":\n\t\t\t\tclassyCharts[type.id] = new BarChart(\n\t\t\t\t\tclassyContainer,\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: type.data,\n\t\t\t\t\t\toptions: Object.assign({}, type.options, {type: type.id}),\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tconst chartObject = classyCharts[type.id];\n\t\t\t\tchartObject.events.addEventListener(\"bar-onClick\", e => {\n\t\t\t\t\tconsole.log(\"Bar chart - Bar clicked\", e.detail);\n\t\t\t\t});\n\n\t\t\t\tchartObject.events.addEventListener(\"load\", e => {\n\t\t\t\t\tconsole.log(\"Bar Chart - LOADED\");\n\t\t\t\t}, false);\n\n\t\t\t\tchartObject.events.addEventListener(\"update\", e => {\n\t\t\t\t\tconsole.log(\"Bar Chart - UPDATED\");\n\t\t\t\t}, false);\n\n\t\t\t\tchartObject.events.addEventListener(\"data-change\", e => {\n\t\t\t\t\tconsole.log(\"Bar Chart - DATACHANGE\");\n\t\t\t\t}, false);\n\n\t\t\t\tchartObject.events.addEventListener(\"data-load\", e => {\n\t\t\t\t\tconsole.log(\"Bar Chart - DATALOAD\");\n\t\t\t\t}, false);\n\n\t\t\t\tchartObject.events.addEventListener(\"resize\", e => {\n\t\t\t\t\tconsole.log(\"Bar Chart - RESIZE\");\n\t\t\t\t}, false);\n\n\t\t\t\tsetDemoActionsEventListener(type.id, type.data);\n\n\t\t\t\tbreak;\n\t\t\tcase \"combo\":\n\t\t\t\tclassyCharts[type.id] = new ComboChart(\n\t\t\t\t\tclassyContainer,\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: type.data,\n\t\t\t\t\t\toptions: Object.assign({}, type.options, {type: type.id}),\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tsetDemoActionsEventListener(type.id, type.data);\n\n\t\t\t\tbreak;\n\t\t\tcase \"scatter\":\n\t\t\t\tclassyCharts[type.id] = new ScatterChart(\n\t\t\t\t\tclassyContainer,\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: type.data,\n\t\t\t\t\t\toptions: Object.assign({}, type.options, {type: type.id}),\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tsetDemoActionsEventListener(type.id, type.data);\n\t\t\t\tbreak;\n\t\t\tcase \"curved-line\":\n\t\t\tcase \"line\":\n\t\t\tcase \"line-step\":\n\t\t\t\t\tclassyCharts[type.id] = new LineChart(\n\t\t\t\t\t\tclassyContainer,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdata: type.data,\n\t\t\t\t\t\t\toptions: Object.assign({}, type.options, {type: type.id}),\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tsetDemoActionsEventListener(type.id, type.data);\n\n\t\t\t\t\tbreak;\n\t\t\tcase \"pie\":\n\t\t\t\tclassyCharts[type.id] = new PieChart(\n\t\t\t\t\tclassyContainer,\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: new Promise<ChartData>((resolve, reject) => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tresolve(type.data);\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\toptions: Object.assign({}, type.options, {type: type.id})\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst pieChartObject = classyCharts[type.id];\n\t\t\t\tpieChartObject.events.addEventListener(\"pie-slice-onClick\", e => {\n\t\t\t\t\tconsole.log(\"Pie chart - Slice clicked\", e.detail);\n\t\t\t\t});\n\n\t\t\t\tsetDemoActionsEventListener(type.id, type.data);\n\n\t\t\t\tbreak;\n\t\t\tcase \"donut\":\n\t\t\t\tclassyCharts[type.id] = new DonutChart(\n\t\t\t\t\tclassyContainer,\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: type.data,\n\t\t\t\t\t\toptions: Object.assign({}, type.options, {type: type.id})\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tsetDemoActionsEventListener(type.id, type.data);\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n});\n","const PATTERN_1 = require(\"./pattern-1\");\nconst PATTERN_2 = require(\"./pattern-2\");\nconst PATTERN_3 = require(\"./pattern-3\");\nconst PATTERN_4 = require(\"./pattern-4\");\nconst PATTERN_5 = require(\"./pattern-5\");\nconst PATTERN_6 = require(\"./pattern-6\");\nconst PATTERN_7 = require(\"./pattern-7\");\nconst PATTERN_8 = require(\"./pattern-8\");\n\nexport default [\n\tPATTERN_1,\n\tPATTERN_2,\n\tPATTERN_3,\n\tPATTERN_4,\n\tPATTERN_5,\n\tPATTERN_6,\n\tPATTERN_7,\n\tPATTERN_8\n];\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:#231F20;}\r\n\t.st2{fill:url(#lines_-_right_to_left);}\r\n</style>\r\n<pattern  width=\"50\" height=\"50\"\r\npatternUnits=\"userSpaceOnUse\" id=\"lines_-_right_to_left\" viewBox=\"97.78 -148.535 50 50\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_16_\">\r\n\t\t<polygon id=\"XMLID_26_\" class=\"st0\" points=\"97.78,-148.535 147.78,-148.535 147.78,-98.535 97.78,-98.535 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_25_\" class=\"st1\" points=\"110.606,0 100,-10.607 214.117,-124.724 224.723,-114.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_24_\" class=\"st1\" points=\"60.606,0 50,-10.607 164.117,-124.724 174.723,-114.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_23_\" class=\"st1\" points=\"10.606,0 0,-10.607 114.117,-124.724 124.723,-114.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_22_\" class=\"st1\" points=\"110.606,-50 100,-60.607 214.117,-174.724 224.723,-164.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_21_\" class=\"st1\" points=\"60.606,-50 50,-60.607 164.117,-174.724 174.723,-164.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_20_\" class=\"st1\" points=\"10.606,-50 0,-60.607 114.117,-174.724 124.723,-164.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_19_\" class=\"st1\" points=\"110.606,-100 100,-110.607 214.117,-224.724 224.723,-214.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_18_\" class=\"st1\" points=\"60.606,-100 50,-110.607 164.117,-224.724 174.723,-214.117 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_17_\" class=\"st1\" points=\"10.606,-100 0,-110.607 114.117,-224.724 124.723,-214.117 \t\t\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st2\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:#2d74da;}\r\n\t.st2{fill:url(#Circle_pattern);}\r\n</style>\r\n<pattern  width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\" id=\"Circle_pattern\" viewBox=\"15 -115 100 100\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_11_\">\r\n\t\t<polygon id=\"XMLID_39_\" class=\"st0\" points=\"15,-115 115,-115 115,-15 15,-15 \t\t\"/>\r\n\t\t<path id=\"XMLID_34_\" class=\"st1\" d=\"M130-40c0,8.284-6.716,15-15,15s-15-6.716-15-15s6.716-15,15-15S130-48.284,130-40z\"/>\r\n\t\t<path id=\"XMLID_33_\" class=\"st1\" d=\"M80-15c0,8.284-6.716,15-15,15S50-6.716,50-15s6.716-15,15-15S80-23.284,80-15z\"/>\r\n\t\t<path id=\"XMLID_32_\" class=\"st1\" d=\"M30-40c0,8.284-6.716,15-15,15S0-31.716,0-40s6.716-15,15-15S30-48.284,30-40z\"/>\r\n\t\t<path id=\"XMLID_24_\" class=\"st1\" d=\"M130-90c0,8.284-6.716,15-15,15s-15-6.716-15-15s6.716-15,15-15S130-98.284,130-90z\"/>\r\n\t\t<path id=\"XMLID_22_\" class=\"st1\" d=\"M80-65c0,8.284-6.716,15-15,15s-15-6.716-15-15s6.716-15,15-15S80-73.284,80-65z\"/>\r\n\t\t<path id=\"XMLID_18_\" class=\"st1\" d=\"M30-90c0,8.284-6.716,15-15,15S0-81.716,0-90s6.716-15,15-15S30-98.284,30-90z\"/>\r\n\t\t<path id=\"XMLID_17_\" class=\"st1\" d=\"M80-115c0,8.284-6.716,15-15,15s-15-6.716-15-15s6.716-15,15-15S80-123.284,80-115z\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st2\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:#231F20;}\r\n\t.st2{fill:url(#Triangle);}\r\n</style>\r\n<pattern  width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\" id=\"Triangle\" viewBox=\"15 -112.99 100 100\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_10_\">\r\n\t\t<polygon id=\"XMLID_23_\" class=\"st0\" points=\"15,-112.99 115,-112.99 115,-12.99 15,-12.99 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_21_\" class=\"st1\" points=\"100,-25 115,-50.981 130,-25 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_20_\" class=\"st1\" points=\"50,0 65,-25.981 80,0 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_19_\" class=\"st1\" points=\"0,-25 15,-50.981 30,-25 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_15_\" class=\"st1\" points=\"100,-75 115,-100.981 130,-75 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_14_\" class=\"st1\" points=\"50,-50 65,-75.981 80,-50 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_13_\" class=\"st1\" points=\"0,-75 15,-100.981 30,-75 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_12_\" class=\"st1\" points=\"50,-100 65,-125.981 80,-100 \t\t\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st2\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:url(#diamond);}\r\n</style>\r\n<pattern  width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\" id=\"diamond\" viewBox=\"21.213 -121.213 100 100\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_15_\">\r\n\t\t<polygon id=\"XMLID_52_\" class=\"st0\" points=\"21.213,-121.213 121.213,-121.213 121.213,-21.213 21.213,-21.213 \t\t\"/>\r\n\t\t<path id=\"XMLID_49_\" d=\"M96.213-28.284l7.071,7.071l-7.071,7.071l-7.071-7.071L96.213-28.284 M96.213-42.427L75-21.213L96.213,0\r\n\t\t\tl21.213-21.213L96.213-42.427L96.213-42.427z\"/>\r\n\t\t<path id=\"XMLID_40_\" d=\"M46.213-28.284l7.071,7.071l-7.071,7.071l-7.071-7.071L46.213-28.284 M46.213-42.427L25-21.213L46.213,0\r\n\t\t\tl21.213-21.213L46.213-42.427L46.213-42.427z\"/>\r\n\t\t<path id=\"XMLID_37_\" d=\"M121.213-78.284l7.071,7.071l-7.071,7.071l-7.071-7.071L121.213-78.284 M121.213-92.427L100-71.213\r\n\t\t\tL121.213-50l21.213-21.213L121.213-92.427L121.213-92.427z\"/>\r\n\t\t<path id=\"XMLID_28_\" d=\"M71.213-78.284l7.071,7.071l-7.071,7.071l-7.071-7.071L71.213-78.284 M71.213-92.427L50-71.213L71.213-50\r\n\t\t\tl21.213-21.213L71.213-92.427L71.213-92.427z\"/>\r\n\t\t<path id=\"XMLID_25_\" d=\"M21.213-78.284l7.071,7.071l-7.071,7.071l-7.071-7.071L21.213-78.284 M21.213-92.427L0-71.213L21.213-50\r\n\t\t\tl21.213-21.213L21.213-92.427L21.213-92.427z\"/>\r\n\t\t<path id=\"XMLID_22_\" d=\"M96.213-128.284l7.071,7.071l-7.071,7.071l-7.071-7.071L96.213-128.284 M96.213-142.427L75-121.213\r\n\t\t\tL96.213-100l21.213-21.213L96.213-142.427L96.213-142.427z\"/>\r\n\t\t<path id=\"XMLID_16_\" d=\"M46.213-128.284l7.071,7.071l-7.071,7.071l-7.071-7.071L46.213-128.284 M46.213-142.427L25-121.213\r\n\t\t\tL46.213-100l21.213-21.213L46.213-142.427L46.213-142.427z\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st1\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:#231F20;}\r\n\t.st2{fill:url(#lines_-_left_to_right);}\r\n</style>\r\n<pattern  width=\"50\" height=\"50\"\r\npatternUnits=\"userSpaceOnUse\" id=\"lines_-_left_to_right\" viewBox=\"101.277 -147.008 50 50\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_8_\">\r\n\t\t<polygon id=\"XMLID_32_\" class=\"st0\" points=\"101.277,-147.008 151.277,-147.008 151.277,-97.008 101.277,-97.008 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_31_\" class=\"st1\" points=\"264.058,0 150,-114.058 160.606,-124.665 274.665,-10.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_30_\" class=\"st1\" points=\"214.058,0 100,-114.058 110.606,-124.665 224.665,-10.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_29_\" class=\"st1\" points=\"164.058,0 50,-114.058 60.606,-124.665 174.665,-10.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_28_\" class=\"st1\" points=\"114.058,0 0,-114.058 10.606,-124.665 124.665,-10.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_27_\" class=\"st1\" points=\"264.058,-50 150,-164.058 160.606,-174.665 274.665,-60.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_26_\" class=\"st1\" points=\"214.058,-50 100,-164.058 110.606,-174.665 224.665,-60.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_25_\" class=\"st1\" points=\"164.058,-50 50,-164.058 60.606,-174.665 174.665,-60.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_24_\" class=\"st1\" points=\"114.058,-50 0,-164.058 10.606,-174.665 124.665,-60.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_23_\" class=\"st1\" points=\"264.058,-100 150,-214.058 160.606,-224.665 274.665,-110.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_22_\" class=\"st1\" points=\"214.058,-100 100,-214.058 110.606,-224.665 224.665,-110.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_16_\" class=\"st1\" points=\"164.058,-100 50,-214.058 60.606,-224.665 174.665,-110.607 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_15_\" class=\"st1\" points=\"114.058,-100 0,-214.058 10.606,-224.665 124.665,-110.607 \t\t\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st2\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:#231F20;}\r\n\t.st2{fill:url(#hex_pattern);}\r\n</style>\r\n<pattern  width=\"100\" height=\"100\"\r\npatternUnits=\"userSpaceOnUse\" id=\"hex_pattern\" viewBox=\"20 -117.32 100 100\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_10_\">\r\n\t\t<polygon id=\"XMLID_23_\" class=\"st0\" points=\"20,-117.32 120,-117.32 120,-17.32 20,-17.32 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_21_\" class=\"st1\" points=\"110,-25 100,-42.32 110,-59.641 130,-59.641 140,-42.32 130,-25 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_20_\" class=\"st1\" points=\"60,0 50,-17.32 60,-34.641 80,-34.641 90,-17.32 80,0 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_19_\" class=\"st1\" points=\"10,-25 0,-42.32 10,-59.641 30,-59.641 40,-42.32 30,-25 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_15_\" class=\"st1\" points=\"110,-75 100,-92.32 110,-109.641 130,-109.641 140,-92.32 130,-75 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_14_\" class=\"st1\" points=\"60,-50 50,-67.32 60,-84.641 80,-84.641 90,-67.32 80,-50 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_13_\" class=\"st1\" points=\"10,-75 0,-92.32 10,-109.641 30,-109.641 40,-92.32 30,-75 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_12_\" class=\"st1\" points=\"60,-100 50,-117.32 60,-134.641 80,-134.641 90,-117.32 80,-100 \t\t\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st2\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:#231F20;}\r\n\t.st2{fill:url(#square_pattern);}\r\n</style>\r\n<pattern  width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\" id=\"square_pattern\" viewBox=\"15 -115 100 100\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_18_\">\r\n\t\t<polygon id=\"XMLID_52_\" class=\"st0\" points=\"15,-115 115,-115 115,-15 15,-15 \t\t\"/>\r\n\t\t<path id=\"XMLID_49_\" class=\"st1\" d=\"M120-45v10h-10v-10H120 M130-55h-30v30h30V-55L130-55z\"/>\r\n\t\t<path id=\"XMLID_46_\" class=\"st1\" d=\"M70-20v10H60v-10H70 M80-30H50V0h30V-30L80-30z\"/>\r\n\t\t<path id=\"XMLID_34_\" class=\"st1\" d=\"M20-45v10H10v-10H20 M30-55H0v30h30V-55L30-55z\"/>\r\n\t\t<path id=\"XMLID_31_\" class=\"st1\" d=\"M120-95v10h-10v-10H120 M130-105h-30v30h30V-105L130-105z\"/>\r\n\t\t<path id=\"XMLID_28_\" class=\"st1\" d=\"M70-70v10H60v-10H70 M80-80H50v30h30V-80L80-80z\"/>\r\n\t\t<path id=\"XMLID_25_\" class=\"st1\" d=\"M20-95v10H10v-10H20 M30-105H0v30h30V-105L30-105z\"/>\r\n\t\t<path id=\"XMLID_19_\" class=\"st1\" d=\"M70-120v10H60v-10H70 M80-130H50v30h30V-130L80-130z\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st2\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 100 100\" style=\"enable-background:new 0 0 100 100;\" xml:space=\"preserve\">\r\n<style type=\"text/css\">\r\n\t.st0{fill:none;}\r\n\t.st1{fill:#231F20;}\r\n\t.st2{fill:url(#tight_diamond);}\r\n</style>\r\n<pattern  width=\"70\" height=\"45\" patternUnits=\"userSpaceOnUse\" id=\"tight_diamond\" viewBox=\"21.213 -66.213 70 45\" style=\"overflow:visible;\">\r\n\t<g id=\"XMLID_9_\">\r\n\t\t<polygon id=\"XMLID_16_\" class=\"st0\" points=\"21.213,-66.213 91.213,-66.213 91.213,-21.213 21.213,-21.213 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_15_\" class=\"st1\" points=\"91.213,0 70,-21.213 91.213,-42.427 112.427,-21.213 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_14_\" class=\"st1\" points=\"21.213,0 0,-21.213 21.213,-42.427 42.427,-21.213 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_13_\" class=\"st1\" points=\"91.213,-45 70,-66.213 91.213,-87.427 112.427,-66.213 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_12_\" class=\"st1\" points=\"56.213,-22.5 35,-43.713 56.213,-64.927 77.427,-43.713 \t\t\"/>\r\n\t\t<polygon id=\"XMLID_11_\" class=\"st1\" points=\"21.213,-45 0,-66.213 21.213,-87.427 42.427,-66.213 \t\t\"/>\r\n\t</g>\r\n</pattern>\r\n<rect id=\"XMLID_1_\" class=\"st2\" width=\"100\" height=\"100\"/>\r\n</svg>`;\r\n","// D3 Imports\nimport { select, mouse } from \"d3-selection\";\nimport { scaleBand, ScaleBand } from \"d3-scale\";\nimport { min } from \"d3-array\";\n\nimport { BaseAxisChart } from \"./base-axis-chart\";\nimport { StackedBarChart } from \"./stacked-bar-chart\";\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, BarChartOptions, ChartType } from \"./configuration\";\n\nimport { Tools } from \"./tools\";\n\nconst getYMin = configs => {\n\tconst { datasets } = configs.data;\n\tconst { scales } = configs.options;\n\tlet yMin;\n\n\tif (datasets.length === 1) {\n\t\tyMin = min(datasets[0].data);\n\t} else {\n\t\tyMin = min(datasets, (d: any) => (min(d.data)));\n\t}\n\n\tif (scales.y.yMinAdjuster) {\n\t\tyMin = scales.y.yMinAdjuster(yMin);\n\t}\n\n\treturn yMin;\n};\n\n// returns the configured max width or the calculated bandwidth\n// whichever is lower\n// defaults to the calculated bandwidth if no maxWidth is defined\nconst getMaxBarWidth = (maxWidth, currentBandWidth) => {\n\tif (!maxWidth) {\n\t\treturn currentBandWidth;\n\t}\n\tif (currentBandWidth <= maxWidth) {\n\t\treturn currentBandWidth;\n\t}\n\treturn maxWidth;\n};\n\n// returns true if the calculated bandwidth is greater than the maxWidth (if defined)\n// i.e. if we should be constraining ourselves to a specific bar width\nconst isWidthConstrained = (maxWidth, currentBandWidth) => {\n\tif (!maxWidth) {\n\t\treturn false;\n\t}\n\tif (currentBandWidth <= maxWidth) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport class BarChart extends BaseAxisChart {\n\tx1?: ScaleBand<any>;\n\n\toptions: BarChartOptions;\n\n\tconstructor(holder: Element, configs: ChartConfig<BarChartOptions>) {\n\t\t// If this is a stacked bar chart, change the object prototype\n\t\tif (configs.options.scales.y.stacked) {\n\t\t\tif (getYMin(configs) >= 0) {\n\t\t\t\treturn new StackedBarChart(holder, configs);\n\t\t\t} else {\n\t\t\t\tconsole.error(\"Negative values are not supported in StackedBarChart, using GroupedBarChart instead to render!\");\n\t\t\t}\n\t\t}\n\n\t\tsuper(holder, configs);\n\n\t\t// initialize options\n\t\tif (configs.options) {\n\t\t\tthis.options = Tools.merge({}, Configuration.options.BAR, configs.options);\n\t\t} else {\n\t\t\tthis.options = Tools.merge({}, Configuration.options.BAR);\n\t\t}\n\n\t\t// To be used for combo chart instances of a bar chart\n\t\tconst { axis } = configs.options;\n\t\tif (axis) {\n\t\t\tconst { bar: margins } = Configuration.charts.margin;\n\t\t\tconst chartSize = this.getChartSize();\n\t\t\tconst width = chartSize.width - margins.left - margins.right;\n\n\t\t\tthis.x1 = scaleBand().rangeRound([0, width]).padding(Configuration.bars.spacing.bars);\n\t\t\tthis.x1.domain(this.data.datasets.map(dataset => dataset.label))\n\t\t\t\t.rangeRound([0, getMaxBarWidth(Tools.getProperty(this.options, \"bars\", \"maxWidth\"), this.x.bandwidth())]);\n\t\t}\n\n\t\tthis.options.type = ChartType.BAR;\n\t}\n\n\tsetXScale(xScale?: any) {\n\t\tconst { bar: margins } = Configuration.charts.margin;\n\t\tconst chartSize = this.getChartSize();\n\t\tconst width = chartSize.width - margins.left - margins.right;\n\n\t\tif (xScale) {\n\t\t\tthis.x = xScale;\n\t\t} else {\n\t\t\tthis.x = scaleBand().rangeRound([0, width]).padding(Configuration.bars.spacing.datasets);\n\t\t\tthis.x.domain(this.displayData.labels);\n\t\t}\n\n\t\t// if it's a grouped bar, use additoinal padding so the bars don't group up\n\t\tif (this.displayData.datasets.length > 1) {\n\t\t\tthis.x1 = scaleBand().rangeRound([0, width]).padding(Configuration.bars.spacing.bars);\n\t\t} else {\n\t\t\tthis.x1 = scaleBand().rangeRound([0, width]);\n\t\t}\n\n\t\tthis.x1.domain(this.displayData.datasets.map(dataset => dataset.label))\n\t\t\t.rangeRound([0, getMaxBarWidth(Tools.getProperty(this.options, \"bars\", \"maxWidth\"), this.x.bandwidth())]);\n\t}\n\n\tgetBarX(d) {\n\t\tif (!isWidthConstrained(Tools.getProperty(this.options, \"bars\", \"maxWidth\"), this.x.bandwidth())) {\n\t\t\treturn this.x1(d.datasetLabel);\n\t\t}\n\n\t\treturn (this.x.bandwidth() / 2) - (Tools.getProperty(this.options, \"bars\", \"maxWidth\") / 2);\n\t}\n\n\tdraw() {\n\t\tthis.innerWrap.style(\"width\", \"100%\")\n\t\t\t.style(\"height\", \"100%\");\n\n\t\tconst { bar: margins } = Configuration.charts.margin;\n\n\t\tconst chartSize = this.getChartSize();\n\t\tconst width = chartSize.width - margins.left - margins.right;\n\t\tconst height = chartSize.height - this.getBBox(\".x.axis\").height;\n\n\t\tconst gBars = this.innerWrap\n\t\t\t.attr(\"transform\", `translate(${margins.left}, ${margins.top})`)\n\t\t\t.append(\"g\")\n\t\t\t.classed(\"bars\", true)\n\t\t\t.attr(\"width\", width);\n\n\t\tgBars.selectAll(\"g\")\n\t\t\t.data(this.displayData.labels)\n\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"transform\", d => `translate(${this.x(d)}, 0)`)\n\t\t\t\t.selectAll(\"rect.bar\")\n\t\t\t\t.data((d, index) => this.addLabelsToDataPoints(d, index))\n\t\t\t\t\t.enter()\n\t\t\t\t\t\t.append(\"rect\")\n\t\t\t\t\t\t.classed(\"bar\", true)\n\t\t\t\t\t\t.attr(\"x\", this.getBarX.bind(this))\n\t\t\t\t\t\t.attr(\"y\", d => this.y(Math.max(0, d.value)))\n\t\t\t\t\t\t.attr(\"width\", this.x1.bandwidth())\n\t\t\t\t\t\t.attr(\"height\", d => Math.abs(this.y(d.value) - this.y(0)))\n\t\t\t\t\t\t.attr(\"fill\", d => this.getFillColor(d.datasetLabel, d.label, d.value))\n\t\t\t\t\t\t.attr(\"stroke\", d => this.options.accessibility ? this.getStrokeColor(d.datasetLabel, d.label, d.value) : null)\n\t\t\t\t\t\t.attr(\"stroke-width\", Configuration.bars.default.strokeWidth)\n\t\t\t\t\t\t.attr(\"stroke-opacity\", d => this.options.accessibility ? 1 : 0);\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the load event\n\t\tthis.dispatchEvent(\"load\");\n\t}\n\n\tinterpolateValues(newData: any) {\n\t\tconst { bar: margins } = Configuration.charts.margin;\n\t\tconst chartSize = this.getChartSize();\n\t\tconst width = chartSize.width - margins.left - margins.right;\n\t\tconst height = chartSize.height - this.getBBox(\".x.axis\").height;\n\n\t\t// Apply new data to the bars\n\t\tconst g = this.innerWrap.select(\"g.bars\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.selectAll(\"g\")\n\t\t\t.data(this.displayData.labels);\n\n\t\tconst rect = g.selectAll(\"rect.bar\")\n\t\t\t.data((d, index) => this.addLabelsToDataPoints(d, index));\n\n\t\tthis.updateElements(true, rect, g);\n\n\t\t// Add bar groups that need to be added now\n\t\tconst addedBars = g.enter()\n\t\t\t.append(\"g\")\n\t\t\t.classed(\"bars\", true)\n\t\t\t.attr(\"transform\", d => `translate(${this.x(d)}, 0)`);\n\n\t\t// Add bars that need to be added now\n\t\tg.selectAll(\"rect.bar\")\n\t\t\t.data((d, index) => this.addLabelsToDataPoints(d, index))\n\t\t\t.enter()\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.attr(\"x\", this.getBarX.bind(this))\n\t\t\t.attr(\"y\", d => this.y(Math.max(0, d.value)))\n\t\t\t.attr(\"width\", this.x1.bandwidth())\n\t\t\t.attr(\"height\", d => Math.abs(this.y(d.value) - this.y(0)))\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.transition(this.getFillTransition())\n\t\t\t.attr(\"fill\", d => this.getFillColor(d.datasetLabel, d.label, d.value))\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.attr(\"stroke\", (d: any) => this.getStrokeColor(d.datasetLabel, d.label, d.value))\n\t\t\t.attr(\"stroke-width\", Configuration.bars.default.strokeWidth);\n\n\t\taddedBars.selectAll(\"rect.bar\")\n\t\t\t.data((d, index) => this.addLabelsToDataPoints(d, index))\n\t\t\t.enter()\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"class\", \"bar\")\n\t\t\t.attr(\"x\", this.getBarX.bind(this))\n\t\t\t.attr(\"y\", d => this.y(Math.max(0, d.value)))\n\t\t\t.attr(\"width\", this.x1.bandwidth())\n\t\t\t.attr(\"height\", d => Math.abs(this.y(d.value) - this.y(0)))\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.transition(this.getFillTransition())\n\t\t\t.attr(\"fill\", d => this.getFillColor(d.datasetLabel, d.label, d.value))\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.attr(\"stroke\", (d: any) => this.getStrokeColor(d.datasetLabel, d.label, d.value))\n\t\t\t.attr(\"stroke-width\", Configuration.bars.default.strokeWidth);\n\n\t\t// Remove bar groups are no longer needed\n\t\tg.exit()\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\t// Remove bars that are no longer needed\n\t\trect.exit()\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\t// Add slice hover actions, and clear any slice borders present\n\t\tthis.addDataPointEventListener();\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the update event\n\t\tthis.dispatchEvent(\"update\");\n\t}\n\n\tupdateElements(animate: boolean, rect?: any, g?: any) {\n\t\tif (!rect) {\n\t\t\trect = this.innerWrap.selectAll(\"rect.bar\");\n\t\t}\n\n\t\tif (g) {\n\t\t\tg.transition(animate ? this.getDefaultTransition() : this.getInstantTransition())\n\t\t\t\t.attr(\"transform\", d => `translate(${this.x(d)}, 0)`)\n\t\t\t\t.style(\"opacity\", 1);\n\t\t}\n\n\t\t// Update existing bars\n\t\trect\n\t\t\t.transition(animate ? this.getFillTransition() : this.getInstantTransition())\n\t\t\t// TODO\n\t\t\t// .ease(d3.easeCircle)\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.attr(\"x\", this.getBarX.bind(this))\n\t\t\t.attr(\"y\", d => this.y(Math.max(0, d.value)))\n\t\t\t.attr(\"width\", this.x1.bandwidth())\n\t\t\t.attr(\"height\", d => Math.abs(this.y(d.value) - this.y(0)))\n\t\t\t.attr(\"fill\", d => this.getFillColor(d.datasetLabel, d.label, d.value))\n\t\t\t.attr(\"stroke\", d => this.options.accessibility ? this.getStrokeColor(d.datasetLabel, d.label, d.value) : null);\n\t}\n\n\tresizeChart() {\n\t\tconst actualChartSize: any = this.getChartSize(this.container);\n\t\tconst dimensionToUseForScale = Math.min(actualChartSize.width, actualChartSize.height);\n\n\t\t// Resize the SVG\n\t\tselect(this.holder).select(\"svg\")\n\t\t\t.attr(\"width\", `${dimensionToUseForScale}px`)\n\t\t\t.attr(\"height\", `${dimensionToUseForScale}px`);\n\n\t\tthis.updateXandYGrid(true);\n\t\t// Scale out the domains\n\t\tthis.setXScale();\n\t\tthis.setYScale();\n\n\t\t// Set the x & y axis as well as their labels\n\t\tthis.setXAxis(true);\n\t\tthis.setYAxis(true);\n\n\t\t// Apply new data to the bars\n\t\tconst g = this.innerWrap.selectAll(\"g.bars g\");\n\t\tthis.updateElements(false, null, g);\n\n\t\tsuper.resizeChart();\n\t}\n\n\taddDataPointEventListener() {\n\t\tconst self = this;\n\t\tconst { accessibility } = this.options;\n\n\t\tthis.svg.selectAll(\"rect.bar\")\n\t\t\t.on(\"click\", d => self.dispatchEvent(\"bar-onClick\", d))\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", Configuration.bars.mouseover.strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", self.getStrokeColor(d.datasetLabel, d.label, d.value))\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.bars.mouseover.strokeOpacity);\n\n\t\t\t\tself.showTooltip(d, this);\n\t\t\t\tself.reduceOpacity(this);\n\t\t\t})\n\t\t\t.on(\"mousemove\", d => this.tooltip.positionTooltip())\n\t\t\t.on(\"mouseout\", function(d) {\n\t\t\t\tconst { strokeWidth, strokeWidthAccessible } = Configuration.bars.mouseout;\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", accessibility ? strokeWidthAccessible : strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", accessibility ? self.getStrokeColor(d.datasetLabel, d.label, d.value) : \"none\")\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.bars.mouseout.strokeOpacity);\n\n\t\t\t\tself.hideTooltip();\n\t\t\t});\n\t}\n}\n","// D3 Imports\nimport { select } from \"d3-selection\";\nimport { scaleBand, scaleLinear, ScaleBand, ScaleLinear } from \"d3-scale\";\nimport { axisBottom, axisLeft, axisRight } from \"d3-axis\";\nimport { min, max } from \"d3-array\";\n\nimport { BaseChart } from \"./base-chart\";\n\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, AxisChartOptions } from \"./configuration\";\nimport { Tools } from \"./tools\";\n\nexport class BaseAxisChart extends BaseChart {\n\tx: ScaleBand<any>;\n\ty: ScaleLinear<any, any>;\n\ty2: ScaleLinear<any, any>;\n\tthresholdDimensions: any;\n\n\toptions: any = Tools.merge({}, Configuration.options.AXIS);\n\n\tconstructor(holder: Element, configs: ChartConfig<AxisChartOptions>) {\n\t\tsuper(holder, configs);\n\n\t\tif (configs.options) {\n\t\t\tthis.options = Tools.merge({}, this.options, configs.options);\n\t\t\tconst { axis } = configs.options;\n\t\t\tif (axis) {\n\t\t\t\tthis.x = axis.x;\n\t\t\t\tthis.y = axis.y;\n\t\t\t\tthis.y2 = axis.y2;\n\t\t\t}\n\t\t}\n\t}\n\n\tsetSVG(): any {\n\t\tsuper.setSVG();\n\n\t\tthis.container.classed(\"chart-axis\", true);\n\t\tthis.innerWrap.append(\"g\")\n\t\t\t.attr(\"class\", \"x grid\");\n\t\tthis.innerWrap.append(\"g\")\n\t\t\t.attr(\"class\", \"y grid\");\n\n\t\treturn this.svg;\n\t}\n\n\tinitialDraw(data?: any) {\n\t\tif (data) {\n\t\t\tthis.displayData = data;\n\t\t}\n\n\t\t// If an axis exists\n\t\tconst xAxisRef = select(this.holder).select(\".axis.x\");\n\t\tif (!xAxisRef.node()) {\n\t\t\tthis.setSVG();\n\n\t\t\t// Scale out the domains\n\t\t\t// Set the x & y axis as well as their labels\n\t\t\tthis.setXScale();\n\t\t\tthis.setXAxis();\n\t\t\tthis.setYScale();\n\t\t\tthis.setYAxis();\n\n\t\t\t// Draws the grid\n\t\t\tthis.drawGrid();\n\n\t\t\tthis.addOrUpdateLegend();\n\t\t} else {\n\t\t\tconst holderRef = select(this.holder);\n\n\t\t\tthis.innerWrap = holderRef.select(\"g.inner-wrap\");\n\t\t\tthis.svg = holderRef.select(\"svg.chart-svg\");\n\t\t}\n\n\t\tthis.draw();\n\n\t\tthis.addDataPointEventListener();\n\t}\n\n\tupdate() {\n\t\tthis.displayData = this.updateDisplayData();\n\n\t\tthis.updateXandYGrid();\n\t\tthis.setXScale();\n\t\tthis.setXAxis();\n\t\tthis.setYScale();\n\t\tthis.setYAxis();\n\t\tthis.drawBackdrop();\n\t\tthis.interpolateValues(this.displayData);\n\t}\n\n\tupdateDisplayData() {\n\t\tconst oldData = Tools.clone(this.data);\n\t\tconst activeLegendItems = this.getActiveLegendItems();\n\n\t\t// Get new data by filtering the data based off of the legend\n\t\tconst newDisplayData = Object.assign({}, oldData);\n\t\tif (this.getLegendType() === Configuration.legend.basedOn.SERIES) {\n\t\t\tnewDisplayData.datasets = oldData.datasets.filter(dataset => {\n\t\t\t\t// If this datapoint is active on the legend\n\t\t\t\tconst activeSeriesItemIndex = activeLegendItems.indexOf(dataset.label);\n\n\t\t\t\treturn activeSeriesItemIndex !== -1;\n\t\t\t});\n\t\t} else {\n\t\t\tconst dataIndeciesToRemove = [];\n\t\t\tnewDisplayData.labels = oldData.labels.filter((label, index) => {\n\t\t\t\t// If this datapoint is active on the legend\n\t\t\t\tconst activeSeriesItemIndex = activeLegendItems.indexOf(label);\n\n\t\t\t\tif (activeSeriesItemIndex === -1) {\n\t\t\t\t\tdataIndeciesToRemove.push(index);\n\t\t\t\t}\n\n\t\t\t\treturn activeSeriesItemIndex !== -1;\n\t\t\t});\n\n\t\t\tif (dataIndeciesToRemove.length > 0) {\n\t\t\t\tnewDisplayData.datasets = oldData.datasets.map(dataset => {\n\t\t\t\t\tdataset.data = dataset.data.filter((dataPoint, i) => {\n\t\t\t\t\t\treturn dataIndeciesToRemove.indexOf(i) === -1;\n\t\t\t\t\t});\n\n\t\t\t\t\treturn dataset;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn newDisplayData;\n\t}\n\n\taddLabelsToDataPoints(d, index) {\n\t\tconst { datasets } = this.displayData;\n\n\t\treturn datasets.map(dataset => ({\n\t\t\tlabel: d,\n\t\t\tdatasetLabel: dataset.label,\n\t\t\tvalue: dataset.data[index]\n\t\t}));\n\t}\n\n\tdraw() {\n\t\tconsole.warn(\"You should implement your own `draw()` function.\");\n\t}\n\n\tinterpolateValues(newData: any) {\n\t\tconsole.warn(\"You should implement your own `interpolateValues()` function.\");\n\t}\n\n\t/**************************************\n\t *  Computations/Calculations         *\n\t *************************************/\n\t// TODO - Refactor\n\tgetChartSize(container = this.container) {\n\t\tlet ratio, marginForLegendTop, marginForChartTitle;\n\t\tif (container.node().clientWidth > Configuration.charts.widthBreak) {\n\t\t\tratio = Configuration.charts.magicRatio;\n\t\t\tmarginForLegendTop = 0;\n\t\t} else {\n\t\t\tmarginForLegendTop = Configuration.charts.marginForLegendTop;\n\t\t\tratio = 1;\n\t\t}\n\n\t\t// Store computed actual size, to be considered for change if chart does not support axis\n\t\tconst marginsToExclude = Configuration.charts.margin.left + Configuration.charts.margin.right;\n\n\t\tmarginForChartTitle = this.options.title ? Configuration.charts.title.marginBottom : 0;\n\n\t\tconst computedChartSize = {\n\t\t\theight: container.node().clientHeight - marginForLegendTop - marginForChartTitle,\n\t\t\twidth: (container.node().clientWidth - marginsToExclude) * ratio\n\t\t};\n\n\t\treturn {\n\t\t\theight: Math.max(computedChartSize.height, Configuration.charts.axisCharts.minHeight),\n\t\t\twidth: Math.max(computedChartSize.width, Configuration.charts.axisCharts.minWidth)\n\t\t};\n\t}\n\n\tresizeChart() {\n\t\t// Reposition the legend\n\t\tthis.positionLegend();\n\n\t\tif (this.innerWrap.select(\".axis-label.x\").nodes().length > 0 || this.options.scales.x.title) {\n\t\t\tthis.repositionXAxisTitle();\n\t\t}\n\n\t\tif (this.innerWrap.select(\".axis-label.y\").nodes().length > 0 || this.options.scales.y.title) {\n\t\t\tthis.repositionYAxisTitle();\n\t\t}\n\n\t\tthis.dispatchEvent(\"resize\");\n\t\tthis.drawBackdrop();\n\t}\n\n\t/**************************************\n\t *  Axis & Grids                      *\n\t *************************************/\n\n\tsetXScale(xScale?: any) {\n\t\tif (xScale) {\n\t\t\tthis.x = xScale;\n\t\t} else {\n\t\t\tconst { bar: margins } = Configuration.charts.margin;\n\t\t\tconst { scales } = this.options;\n\n\t\t\tconst chartSize = this.getChartSize();\n\t\t\tconst width = chartSize.width - margins.left - margins.right;\n\n\t\t\tthis.x = scaleBand().rangeRound([0, width]).padding(Configuration.scales.x.padding);\n\t\t\tthis.x.domain(this.displayData.labels);\n\t\t}\n\t}\n\n\tsetXAxis(noAnimation?: boolean) {\n\t\tconst { bar: margins } = Configuration.charts.margin;\n\t\tconst chartSize = this.getChartSize();\n\t\tconst height = chartSize.height - margins.top - margins.bottom;\n\n\t\tconst t = noAnimation ? this.getInstantTransition() : this.getDefaultTransition();\n\n\t\tconst xAxis = axisBottom(this.x)\n\t\t\t.tickSize(0)\n\t\t\t.tickSizeOuter(0);\n\t\tlet xAxisRef = this.svg.select(\"g.x.axis\");\n\n\t\t// If the <g class=\"x axis\"> exists in the chart SVG, just update it\n\t\tif (xAxisRef.nodes().length > 0) {\n\t\t\txAxisRef = this.svg.select(\"g.x.axis\")\n\t\t\t\t.transition(t)\n\t\t\t\t.attr(\"transform\", `translate(0, ${height})`)\n\t\t\t\t// Casting to any because d3 does not offer appropriate typings for the .call() function\n\t\t\t\t.call(xAxis);\n\t\t} else {\n\t\t\txAxisRef = this.innerWrap.append(\"g\")\n\t\t\t\t.attr(\"class\", \"x axis\");\n\n\t\t\txAxisRef.call(xAxis);\n\t\t}\n\n\t\t// Update the position of the pieces of text inside x-axis\n\t\txAxisRef.selectAll(\"g.tick text\")\n\t\t\t.attr(\"y\", Configuration.scales.magicY1)\n\t\t\t.attr(\"x\", Configuration.scales.magicX1)\n\t\t\t.attr(\"dy\", \".35em\")\n\t\t\t.attr(\"transform\", `rotate(${Configuration.scales.xAxisAngle})`)\n\t\t\t.style(\"text-anchor\", \"end\")\n\t\t\t.call(text => this.wrapTick(text));\n\n\t\t// get the tickHeight after the ticks have been wrapped\n\t\tconst tickHeight = this.getLargestTickHeight(xAxisRef.selectAll(\".tick\")) + Configuration.scales.tick.heightAddition;\n\t\t// Add x-axis title\n\t\tif (this.innerWrap.select(\".axis-label.x\").nodes().length === 0 && this.options.scales.x.title) {\n\t\t\txAxisRef.append(\"text\")\n\t\t\t\t.attr(\"class\", \"x axis-label\")\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"transform\", `translate(${xAxisRef.node().getBBox().width / 2}, ${tickHeight})`)\n\t\t\t\t.text(this.options.scales.x.title);\n\t\t}\n\n\t\t// get the yHeight after the height of the axis has settled\n\t\tconst yHeight = this.getChartSize().height - this.svg.select(\".x.axis\").node().getBBox().height;\n\t\txAxisRef.attr(\"transform\", `translate(0, ${yHeight})`);\n\t}\n\n\trepositionXAxisTitle() {\n\t\tconst xAxisRef = this.svg.select(\"g.x.axis\");\n\t\tconst tickHeight = this.getLargestTickHeight(xAxisRef.selectAll(\".tick\")) + Configuration.scales.tick.heightAddition;\n\n\t\tconst xAxisTitleRef = this.svg.select(\"g.x.axis text.x.axis-label\");\n\t\txAxisTitleRef.attr(\"class\", \"x axis-label\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.attr(\"transform\", `translate(${xAxisRef.node().getBBox().width / 2}, ${tickHeight})`)\n\t\t\t.text(this.options.scales.x.title);\n\t}\n\n\trepositionYAxisTitle() {\n\t\tconst yAxisRef = this.svg.select(\"g.y.axis\");\n\t\tconst tickHeight = this.getLargestTickHeight(yAxisRef.selectAll(\".tick\"));\n\n\t\tconst yAxisTitleRef = this.svg.select(\"g.y.axis text.y.axis-label\");\n\n\t\tconst yAxisCenter = yAxisRef.node().getBBox().height / 2;\n\t\tconst yAxisLabelWidth = this.innerWrap.select(\".axis-label.y\").node().getBBox().width;\n\n\t\tconst yAxisTitleTranslate = {\n\t\t\tx: - yAxisCenter + yAxisLabelWidth / 2,\n\t\t\ty: - (tickHeight + Configuration.scales.tick.heightAddition)\n\t\t};\n\n\t\t// Align y axis title with y axis\n\t\tyAxisTitleRef.attr(\"class\", \"y axis-label\")\n\t\t.attr(\"text-align\", \"center\")\n\t\t.attr(\"transform\", `rotate(-90) translate(${yAxisTitleTranslate.x}, ${yAxisTitleTranslate.y})`)\n\t\t.text(this.options.scales.y.title);\n\t}\n\n\tgetYMax() {\n\t\tconst { datasets } = this.displayData;\n\t\tconst { scales } = this.options;\n\t\tlet yMax;\n\n\t\tif (datasets.length === 1) {\n\t\t\tyMax = max(datasets[0].data);\n\t\t} else {\n\t\t\tyMax = max(datasets, (d: any) => (max(d.data)));\n\t\t}\n\n\t\tif (scales.y.yMaxAdjuster) {\n\t\t\tyMax = scales.y.yMaxAdjuster(yMax);\n\t\t}\n\n\t\treturn yMax;\n\t}\n\n\tgetYMin() {\n\t\tconst { datasets } = this.displayData;\n\t\tconst { scales } = this.options;\n\t\tlet yMin;\n\n\t\tif (datasets.length === 1) {\n\t\t\tyMin = min(datasets[0].data);\n\t\t} else {\n\t\t\tyMin = min(datasets, (d: any) => (min(d.data)));\n\t\t}\n\n\t\tif (scales.y.yMinAdjuster) {\n\t\t\tyMin = scales.y.yMinAdjuster(yMin);\n\t\t}\n\n\t\treturn yMin;\n\t}\n\n\tsetYScale(yScale?: any) {\n\t\tconst chartSize = this.getChartSize();\n\t\tconst height = chartSize.height - this.innerWrap.select(\".x.axis\").node().getBBox().height;\n\n\t\tconst { scales } = this.options;\n\n\t\tconst yMin = this.getYMin();\n\t\tconst yMax = this.getYMax();\n\t\tif (yScale) {\n\t\t\tthis.y = yScale;\n\t\t} else {\n\t\t\tthis.y = scaleLinear().range([height, 0]);\n\t\t\tthis.y.domain([Math.min(yMin, 0), yMax]);\n\t\t}\n\n\t\tif (scales.y2 && scales.y2.ticks.max) {\n\t\t\tthis.y2 = scaleLinear().rangeRound([height, 0]);\n\t\t\tthis.y2.domain([scales.y2.ticks.min, scales.y2.ticks.max]);\n\t\t}\n\t}\n\n\tsetYAxis(noAnimation?: boolean) {\n\t\tconst chartSize = this.getChartSize();\n\n\t\tconst { scales } = this.options;\n\t\tconst t = noAnimation ? this.getInstantTransition() : this.getDefaultTransition();\n\n\t\tconst yAxis = axisLeft(this.y)\n\t\t\t.ticks(scales.y.numberOfTicks || Configuration.scales.y.numberOfTicks)\n\t\t\t.tickSize(0)\n\t\t\t.tickFormat(scales.y.formatter);\n\n\t\tlet yAxisRef = this.svg.select(\"g.y.axis\");\n\t\tconst horizontalLine = this.svg.select(\"line.domain\");\n\n\t\tthis.svg.select(\"g.x.axis path.domain\")\n\t\t\t.remove();\n\n\t\t// If the <g class=\"y axis\"> exists in the chart SVG, just update it\n\t\tif (yAxisRef.nodes().length > 0) {\n\t\t\tyAxisRef.transition(t)\n\t\t\t\t// Casting to any because d3 does not offer appropriate typings for the .call() function\n\t\t\t\t.call(yAxis as any);\n\n\t\t\thorizontalLine.transition(t)\n\t\t\t\t.attr(\"y1\", this.y(0))\n\t\t\t\t.attr(\"y2\", this.y(0))\n\t\t\t\t.attr(\"x1\", 0)\n\t\t\t\t.attr(\"x2\", chartSize.width);\n\t\t} else {\n\t\t\tyAxisRef = this.innerWrap.append(\"g\")\n\t\t\t\t.attr(\"class\", \"y axis yAxes\");\n\n\t\t\tyAxisRef.call(yAxis);\n\n\t\t\tyAxisRef.append(\"line\")\n\t\t\t\t.classed(\"domain\", true)\n\t\t\t\t.attr(\"y1\", this.y(0))\n\t\t\t\t.attr(\"y2\", this.y(0))\n\t\t\t\t.attr(\"x1\", 0)\n\t\t\t\t.attr(\"x2\", chartSize.width);\n\t\t}\n\n\t\tconst tickHeight = this.getLargestTickHeight(yAxisRef.selectAll(\".tick\"));\n\n\t\t// Add y-axis title\n\t\tif (this.innerWrap.select(\".axis-label.y\").nodes().length === 0 && this.options.scales.y.title) {\n\t\t\tyAxisRef.append(\"text\")\n\t\t\t\t.attr(\"class\", \"y axis-label\")\n\t\t\t\t.text(this.options.scales.y.title);\n\n\t\t\tconst yAxisCenter = yAxisRef.node().getBBox().height / 2;\n\t\t\tconst yAxisLabelWidth = this.innerWrap.select(\".axis-label.y\").node().getBBox().width;\n\n\t\t\tconst yAxisTitleTranslate = {\n\t\t\t\tx: - yAxisCenter + yAxisLabelWidth / 2,\n\t\t\t\ty: - (tickHeight + Configuration.scales.tick.heightAddition)\n\t\t\t};\n\n\t\t\t// Align y axis title on the y axis\n\t\t\tthis.innerWrap.select(\".axis-label.y\")\n\t\t\t\t.attr(\"transform\", `rotate(-90) translate(${yAxisTitleTranslate.x}, ${yAxisTitleTranslate.y})`);\n\t\t}\n\n\t\tTools.moveToFront(horizontalLine);\n\n\t\tif (scales.y2 && scales.y2.ticks.max) {\n\t\t\tconst secondaryYAxis = axisRight(this.y2)\n\t\t\t\t.ticks(scales.y2.numberOfTicks || Configuration.scales.y2.numberOfTicks)\n\t\t\t\t.tickSize(0)\n\t\t\t\t.tickFormat(scales.y2.formatter);\n\n\t\t\tconst secondaryYAxisRef = this.svg.select(\"g.y2.axis\");\n\t\t\t// If the <g class=\"y axis\"> exists in the chart SVG, just update it\n\t\t\tif (secondaryYAxisRef.nodes().length > 0) {\n\t\t\t\tsecondaryYAxisRef.transition(t)\n\t\t\t\t\t.attr(\"transform\", `translate(${this.getChartSize().width}, 0)`)\n\t\t\t\t\t// Being cast to any because d3 does not offer appropriate typings for the .call() function\n\t\t\t\t\t.call(secondaryYAxis as any);\n\t\t\t} else {\n\t\t\t\tthis.innerWrap.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"y2 axis yAxes\")\n\t\t\t\t\t.attr(\"transform\", `translate(${this.getChartSize().width}, 0)`)\n\t\t\t\t\t.call(secondaryYAxis);\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawGrid() {\n\t\t// Draw the x & y grid\n\t\tthis.drawXGrid();\n\t\tthis.drawYGrid();\n\n\t\t// Draw the backdrop\n\t\tthis.drawBackdrop();\n\t}\n\n\tdrawXGrid() {\n\t\tconst yHeight = this.getChartSize().height - this.getBBox(\".x.axis\").height;\n\t\tconst xGrid = axisBottom(this.x)\n\t\t\t.tickSizeInner(-yHeight)\n\t\t\t.tickSizeOuter(0);\n\n\t\tconst g = this.innerWrap.select(\".x.grid\")\n\t\t\t.attr(\"transform\", `translate(0, ${yHeight})`)\n\t\t\t.call(xGrid);\n\n\t\tthis.cleanGrid(g);\n\t}\n\n\tdrawYGrid() {\n\t\tconst { scales } = this.options;\n\t\tconst { thresholds } = this.options.scales.y;\n\t\tconst yHeight = this.getChartSize().height - this.getBBox(\".x.axis\").height;\n\n\t\tconst yGrid = axisLeft(this.y)\n\t\t\t.tickSizeInner(-this.getChartSize().width)\n\t\t\t.tickSizeOuter(0);\n\n\t\tyGrid.ticks(scales.y.numberOfTicks || Configuration.scales.y.numberOfTicks);\n\n\t\tconst g = this.innerWrap.select(\".y.grid\")\n\t\t\t.attr(\"transform\", \"translate(0, 0)\")\n\t\t\t.call(yGrid);\n\n\t\tthis.cleanGrid(g);\n\n\t\tif (thresholds && thresholds.length > 0) {\n\t\t\tthis.addOrUpdateThresholds(g, false);\n\t\t}\n\t}\n\n\t/**\n\t * Draws the background for the chart grid. Uses the axis to get the bounds and position of the backdrop.\n\t */\n\tdrawBackdrop() {\n\t\tconst backdrop = Tools.appendOrSelect(this.innerWrap, \"rect.chart-grid-backdrop\");\n\t\tconst [xScaleStart, xScaleEnd] = this.x.range();\n\t\tconst [yScaleEnd, yScaleStart] = this.y.range();\n\n\t\tbackdrop\n\t\t\t.attr(\"x\", xScaleStart)\n\t\t\t.attr(\"y\", yScaleStart)\n\t\t\t.attr(\"width\", xScaleEnd)\n\t\t\t.attr(\"height\", yScaleEnd)\n\t\t\t.lower();\n\t}\n\n\taddOrUpdateThresholds(yGrid, animate?) {\n\t\tconst t = animate === false ? this.getInstantTransition() : this.getDefaultTransition();\n\n\t\tconst width = this.getChartSize().width;\n\t\tconst { thresholds } = this.options.scales.y;\n\n\t\t// Check if the thresholds container <g> exists\n\t\tconst thresholdContainerExists = this.innerWrap.select(\"g.thresholds\").nodes().length > 0;\n\t\tconst thresholdRects = thresholdContainerExists\n\t\t\t? this.innerWrap.selectAll(\"g.thresholds rect\")\n\t\t\t: this.innerWrap.append(\"g\").classed(\"thresholds\", true).selectAll(\"rect\").data(thresholds);\n\n\t\tconst calculateYPosition = d => {\n\t\t\treturn Math.max(0, this.y(d.range[1]));\n\t\t};\n\n\t\tconst calculateHeight = d => {\n\t\t\tconst height = Math.abs(this.y(d.range[1]) - this.y(d.range[0]));\n\t\t\tconst yMax = this.y(this.y.domain()[0]);\n\n\t\t\t// If the threshold is getting cropped because it is extending beyond\n\t\t\t// the top of the chart, update its height to reflect the crop\n\t\t\tif (this.y(d.range[1]) < 0) {\n\t\t\t\treturn Math.max(0, height + this.y(d.range[1]));\n\t\t\t} else if (this.y(d.range[1]) + height > yMax) {\n\t\t\t\t// If the threshold is getting cropped because it is extending beyond\n\t\t\t\t// the bottom of the chart, update its height to reflect the crop\n\t\t\t\treturn Math.max(0, yMax - calculateYPosition(d));\n\t\t\t}\n\n\t\t\treturn Math.max(0, height);\n\t\t};\n\n\t\tconst calculateOpacity = d => {\n\t\t\tconst height = Math.abs(this.y(d.range[1]) - this.y(d.range[0]));\n\n\t\t\t// If the threshold is to be shown anywhere\n\t\t\t// outside of the top edge of the chart, hide it\n\t\t\tif (this.y(d.range[1]) + height <= 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn 1;\n\t\t};\n\n\t\t// Applies to thresholds being added\n\t\tthresholdRects.enter()\n\t\t\t.append(\"rect\")\n\t\t\t.classed(\"threshold-bar\", true)\n\t\t\t.attr(\"x\", 0)\n\t\t\t.attr(\"y\", d => calculateYPosition(d))\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", d => calculateHeight(d))\n\t\t\t.attr(\"fill\", d => Configuration.scales.y.thresholds.colors[d.theme])\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.transition(t)\n\t\t\t.style(\"opacity\", d => calculateOpacity(d));\n\n\t\t// Update thresholds\n\t\tthresholdRects\n\t\t\t.transition(t)\n\t\t\t.attr(\"x\", 0)\n\t\t\t.attr(\"y\", d => calculateYPosition(d))\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", d => calculateHeight(d))\n\t\t\t.style(\"opacity\", d => calculateOpacity(d))\n\t\t\t.attr(\"fill\", d => Configuration.scales.y.thresholds.colors[d.theme]);\n\n\t\t// Applies to thresholds getting removed\n\t\tthresholdRects.exit()\n\t\t\t.transition(t)\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\t}\n\n\tupdateXandYGrid(noAnimation?: boolean) {\n\t\tconst { thresholds } = this.options.scales.y;\n\n\t\t// setTimeout is needed here, to take into account the new position of bars\n\t\t// Right after transitions are initiated for the\n\t\tsetTimeout(() => {\n\t\t\tconst t = noAnimation ? this.getInstantTransition() : this.getDefaultTransition();\n\n\t\t\t// Update X Grid\n\t\t\tconst chartSize = this.getChartSize();\n\t\t\tconst yHeight = chartSize.height - this.getBBox(\".x.axis\").height;\n\t\t\tconst xGrid = axisBottom(this.x)\n\t\t\t\t.tickSizeInner(-yHeight)\n\t\t\t\t.tickSizeOuter(0);\n\n\t\t\tconst g_xGrid = this.innerWrap.select(\".x.grid\")\n\t\t\t\t.transition(t)\n\t\t\t\t.attr(\"transform\", `translate(0, ${yHeight})`)\n\t\t\t\t.call(xGrid);\n\n\t\t\tthis.cleanGrid(g_xGrid);\n\n\t\t\t// Update Y Grid\n\t\t\tconst yGrid = axisLeft(this.y)\n\t\t\t\t.tickSizeInner(-chartSize.width)\n\t\t\t\t.tickSizeOuter(0)\n\t\t\t\t.tickFormat(\"\" as any);\n\n\t\t\tconst g_yGrid = this.innerWrap.select(\".y.grid\")\n\t\t\t\t.transition(t)\n\t\t\t\t.attr(\"transform\", `translate(0, 0)`)\n\t\t\t\t.call(yGrid);\n\n\t\t\tg_yGrid.transition(t);\n\n\t\t\tthis.cleanGrid(g_yGrid);\n\n\t\t\tif (thresholds && thresholds.length > 0) {\n\t\t\t\tthis.addOrUpdateThresholds(g_yGrid, !noAnimation);\n\t\t\t}\n\t\t}, 0);\n\t}\n\n\tcleanGrid(g) {\n\t\tg.selectAll(\"line\")\n\t\t\t.attr(\"stroke\", Configuration.grid.strokeColor);\n\t\tg.selectAll(\"text\").style(\"display\", \"none\").remove();\n\t\tg.select(\".domain\").style(\"stroke\", \"none\");\n\t}\n\n\t// TODO - Refactor\n\twrapTick(ticks) {\n\t\tconst self = this;\n\t\tconst lineHeight = Configuration.scales.tick.lineHeight;\n\n\t\tticks.each(function (t) {\n\t\t\tconst text = select(this);\n\t\t\tlet textContent = text.text();\n\n\t\t\t// If the text has already been broken down into parts\n\t\t\tif (text.selectAll(\"tspan\").nodes().length > 1) {\n\t\t\t\ttextContent = text.selectAll(\"tspan\")\n\t\t\t\t\t.nodes()\n\t\t\t\t\t.map(node => select(node).text())\n\t\t\t\t\t.join(\" \");\n\t\t\t}\n\n\t\t\tconst words = textContent.split(/\\s+/).reverse();\n\t\t\tconst y = text.attr(\"y\");\n\t\t\tconst dy = parseFloat(text.attr(\"dy\"));\n\n\t\t\tlet word;\n\t\t\tlet line = [];\n\t\t\tlet lineNumber = 0;\n\t\t\tlet tspan = text.text(null)\n\t\t\t\t.append(\"tspan\")\n\t\t\t\t.attr(\"x\", 0);\n\n\t\t\t// Set max length allowed to length of datapoints\n\t\t\t// In the x-scale\n\t\t\tconst maxTextLengthAllowed = self.x.bandwidth();\n\t\t\twhile (word = words.pop()) {\n\t\t\t\tline.push(word);\n\t\t\t\ttspan.text(line.join(\" \"));\n\n\t\t\t\t// Get text length and compare to maximum length allowed\n\t\t\t\tconst tspanTextLength = tspan.node().getComputedTextLength();\n\t\t\t\tif (tspanTextLength > maxTextLengthAllowed) {\n\t\t\t\t\tline.pop();\n\t\t\t\t\ttspan.text(line.join(\" \"));\n\t\t\t\t\tline = [word];\n\n\t\t\t\t\ttspan = text.append(\"tspan\")\n\t\t\t\t\t\t.attr(\"x\", 0)\n\t\t\t\t\t\t.attr(\"y\", y)\n\t\t\t\t\t\t.attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\")\n\t\t\t\t\t\t.text(word);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// TODO - Refactor\n\tgetLargestTickHeight(ticks) {\n\t\tlet largestHeight = 0;\n\t\tticks.each(function() {\n\t\t\tlet tickLength = 0;\n\t\t\ttry {\n\t\t\t\ttickLength = this.getBBox().height;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t\tif (tickLength > largestHeight) {\n\t\t\t\tlargestHeight = tickLength;\n\t\t\t}\n\n\t\t});\n\t\treturn largestHeight;\n\t}\n\n\t/**************************************\n\t *  Events & User interactions        *\n\t *************************************/\n\taddDataPointEventListener() {\n\t\tconsole.warn(\"You should implement your own `addDataPointEventListener()` function.\");\n\t}\n}\n","// D3 Imports\nimport {\n\tevent,\n\tmouse,\n\tselect,\n\tselectAll\n} from \"d3-selection\";\nimport { scaleOrdinal } from \"d3-scale\";\nimport { transition, Transition } from \"d3-transition\";\n\n// Internal Imports\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, BaseChartOptions, ChartData } from \"./configuration\";\nimport { Tools } from \"./tools\";\nimport PatternsService from \"./services/patterns\";\nimport { ChartOverlay } from \"./components/index\";\nimport { ChartTooltip } from \"./components/tooltip\";\n\n// Misc\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nexport class BaseChart {\n\tstatic chartCount = 1;\n\n\tid = \"\";\n\tchartContainerID = \"\";\n\n\t// Chart element references\n\tcontainer: any;\n\tholder: Element;\n\tsvg: any;\n\tinnerWrap: any;\n\n\toptions: BaseChartOptions = Tools.merge({}, Configuration.options.BASE);\n\n\t// Data\n\tdata: ChartData;\n\tdisplayData: ChartData;\n\tfixedDataLabels;\n\n\t// Fill scales & fill related objects\n\tpatternScale = {};\n\tcolorScale = {};\n\tpatternsService: PatternsService;\n\n\t// Event target\n\tevents: any;\n\teventHandlers = {\n\t\ttooltips: null\n\t};\n\n\t// Misc\n\tchartOverlay: ChartOverlay;\n\ttooltip: ChartTooltip;\n\n\tconstructor(holder: Element, configs: ChartConfig<BaseChartOptions>) {\n\t\tthis.id = `chart-${BaseChart.chartCount++}`;\n\t\tif (configs.options) {\n\t\t\tthis.options = Tools.merge({}, this.options, configs.options);\n\t\t}\n\n\t\t// Save holder element reference, and initialize it by applying appropriate styling\n\t\tthis.holder = holder;\n\t\tthis.styleHolderElement();\n\n\t\tconst {chartId, container} = this.setChartIDContainer();\n\t\tthis.container = container;\n\t\tthis.chartContainerID = chartId;\n\n\t\tif (this.options.containerResizable) {\n\t\t\tthis.resizeWhenContainerChange();\n\t\t}\n\n\t\tthis.events = document.createDocumentFragment();\n\n\t\t// Initialize charting components\n\t\tthis.chartOverlay = new ChartOverlay(this.holder, this.options.overlay);\n\t\tthis.tooltip = new ChartTooltip(this.container.node());\n\n\t\tif (configs.data) {\n\t\t\tthis.setData(configs.data);\n\t\t}\n\t}\n\n\tstyleHolderElement() {\n\t\tconst holderElement = this.holder as HTMLElement;\n\t\tconst { width, height } = this.options;\n\n\t\t// Add class to chart holder\n\t\tselect(this.holder).classed(\"chart-holder\", true);\n\n\t\t// If width exists in options\n\t\tif (width) {\n\t\t\t// Apply formatted width attribute to chart\n\t\t\tholderElement.style.width = Tools.formatWidthHeightValues(width);\n\t\t}\n\n\t\t// If height exists in options\n\t\tif (height) {\n\t\t\t// Apply formatted height attribute to chart\n\t\t\tholderElement.style.height = Tools.formatWidthHeightValues(height);\n\t\t}\n\t}\n\n\tdispatchEvent(eventType: string, eventDetail?: object) {\n\t\tlet newEvent;\n\t\tif (eventDetail) {\n\t\t\tnewEvent = new CustomEvent(eventType, {\n\t\t\t\tdetail: eventDetail\n\t\t\t});\n\t\t} else {\n\t\t\tnewEvent = document.createEvent(\"Event\");\n\t\t\tnewEvent.initEvent(eventType, false, true);\n\t\t}\n\n\t\tthis.events.dispatchEvent(newEvent);\n\t}\n\n\tsetData(data: any) {\n\t\tconst initialDraw = !this.innerWrap;\n\t\tconst newDataIsAPromise = Promise.resolve(data) === data;\n\n\t\t// Dispatch the update event\n\t\tthis.dispatchEvent(\"data-change\");\n\n\t\tif (initialDraw || newDataIsAPromise) {\n\t\t\tthis.chartOverlay.show();\n\t\t}\n\n\t\t// Hide current showing tooltip\n\t\tif (!initialDraw) {\n\t\t\tthis.hideTooltip();\n\t\t}\n\n\t\tPromise.resolve(data).then(value => {\n\t\t\t// Dispatch the update event\n\t\t\tthis.dispatchEvent(\"data-load\");\n\n\t\t\t// Process data\n\t\t\t// this.data = this.dataProcessor(Tools.clone(value));\n\t\t\tthis.data = Tools.clone(value);\n\n\t\t\tif (this.data.datasets && this.data.datasets.length > 0) {\n\t\t\t\tthis.displayData = this.dataProcessor(Tools.clone(value));\n\n\t\t\t\tconst keys = this.getKeysFromData();\n\n\t\t\t\t// Grab the old legend items, the keys from the current data\n\t\t\t\t// Compare the two, if there are any differences (additions/removals)\n\t\t\t\t// Completely remove the legend and render again\n\t\t\t\tconst oldLegendItems = this.getActiveLegendItems();\n\t\t\t\tconst keysArray = Object.keys(keys);\n\t\t\t\tconst { missing: removedItems, added: newItems } = Tools.arrayDifferences(oldLegendItems, keysArray);\n\n\t\t\t\t// Update keys for legend use the latest data keys\n\t\t\t\tthis.options.keys = keys;\n\n\t\t\t\t// Set the color scale based on the keys present in the data\n\t\t\t\tthis.setColorScale();\n\n\t\t\t\t// Add patterns to page, set pattern scales\n\t\t\t\tif (this.options.accessibility) {\n\t\t\t\t\tthis.setPatterns();\n\t\t\t\t}\n\n\t\t\t\t// Perform the draw or update chart\n\t\t\t\tif (initialDraw) {\n\t\t\t\t\tthis.initialDraw();\n\t\t\t\t} else {\n\t\t\t\t\tif (removedItems.length > 0 || newItems.length > 0) {\n\t\t\t\t\t\tthis.addOrUpdateLegend();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t\tthis.drawTitle();\n\t\t\t} else {\n\t\t\t\tthis.chartOverlay.show(Configuration.options.BASE.overlay.types.noData);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKeysFromData() {\n\t\tconst keys = {};\n\n\t\tif (this.getLegendType() === Configuration.legend.basedOn.LABELS) {\n\t\t\t// Build out the keys array of objects to represent the legend items\n\t\t\tthis.displayData.labels.forEach(label => {\n\t\t\t\tkeys[label] = Configuration.legend.items.status.ACTIVE;\n\t\t\t});\n\t\t} else {\n\t\t\tthis.displayData.datasets.forEach(dataset => {\n\t\t\t\tkeys[dataset.label] = Configuration.legend.items.status.ACTIVE;\n\t\t\t});\n\t\t}\n\n\t\t// Apply disabled legend items from previous data\n\t\t// That also are applicable to the new data\n\t\tconst disabledLegendItems = this.getDisabledLegendItems();\n\t\tObject.keys(keys).forEach(key => {\n\t\t\tif (disabledLegendItems.indexOf(key) !== -1) {\n\t\t\t\tkeys[key] = Configuration.legend.items.status.DISABLED;\n\t\t\t}\n\t\t});\n\n\t\tif (!this.fixedDataLabels) {\n\t\t\tthis.fixedDataLabels = this.displayData.labels;\n\t\t} else {\n\t\t\tthis.displayData.labels.forEach(element => {\n\t\t\t\tif (this.fixedDataLabels.indexOf(element) === -1) {\n\t\t\t\t\tthis.fixedDataLabels.push(element);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn keys;\n\t}\n\n\tgetLegendType() {\n\t\tconst { datasets } = this.displayData;\n\n\t\t// TODO - Support the labels based legend for line chart\n\t\tif (datasets.length === 1 && datasets[0].backgroundColors && datasets[0].backgroundColors.length > 1) {\n\t\t\treturn Configuration.legend.basedOn.LABELS;\n\t\t} else {\n\t\t\treturn Configuration.legend.basedOn.SERIES;\n\t\t}\n\t}\n\n\tsetPatterns() {\n\t\t// Accessibility & patterns\n\t\tthis.patternsService = new PatternsService();\n\t\tthis.patternsService.addPatternSVGs(this.displayData, this.colorScale, this.chartContainerID, this.getLegendType());\n\n\t\tconst patternURLs = this.patternsService.getFillValues();\n\t\tObject.keys(patternURLs).forEach(datasetLabel => {\n\t\t\tthis.patternScale[datasetLabel] = scaleOrdinal()\n\t\t\t\t.range(patternURLs[datasetLabel])\n\t\t\t\t.domain(this.getLegendItemKeys());\n\t\t});\n\t}\n\n\tsetColorScale() {\n\t\tif (this.displayData.datasets[0].backgroundColors) {\n\t\t\tthis.displayData.datasets.forEach(dataset => {\n\t\t\t\tthis.colorScale[dataset.label] = scaleOrdinal().range(dataset.backgroundColors).domain(this.fixedDataLabels);\n\t\t\t});\n\t\t} else {\n\t\t\tconst colors = Configuration.options.BASE.colors;\n\t\t\tthis.displayData.datasets.forEach((dataset, i) => {\n\t\t\t\tthis.colorScale[dataset.label] = scaleOrdinal().range([colors[i]]).domain(this.fixedDataLabels);\n\t\t\t});\n\t\t}\n\t}\n\n\tgetFillColor(datasetLabel: any, label?: any, value?: any) {\n\t\tif (this.options.getFillColor && !this.options.accessibility) {\n\t\t\treturn this.options.getFillColor(datasetLabel, label, value) || this.getFillScale()[datasetLabel](label);\n\t\t} else {\n\t\t\treturn this.getFillScale()[datasetLabel](label);\n\t\t}\n\t}\n\n\tgetStrokeColor(datasetLabel: any, label?: any, value?: any) {\n\t\tif (this.options.getStrokeColor) {\n\t\t\treturn this.options.getStrokeColor(datasetLabel, label, value) || this.colorScale[datasetLabel](label);\n\t\t} else {\n\t\t\treturn this.colorScale[datasetLabel](label);\n\t\t}\n\t}\n\n\t// TODO - Refactor\n\tgetChartSize(container = this.container) {\n\t\tlet ratio, marginForLegendTop, marginForChartTitle;\n\t\tif (container.node().clientWidth > Configuration.charts.widthBreak) {\n\t\t\tratio = Configuration.charts.magicRatio;\n\t\t\tmarginForLegendTop = 0;\n\t\t} else {\n\t\t\tmarginForLegendTop = Configuration.charts.marginForLegendTop;\n\t\t\tratio = 1;\n\t\t}\n\n\t\t// Store computed actual size, to be considered for change if chart does not support axis\n\t\tconst marginsToExclude = 0;\n\n\t\tmarginForChartTitle = this.options.title ? Configuration.charts.title.marginBottom : 0;\n\n\t\tconst computedChartSize = {\n\t\t\theight: container.node().clientHeight - marginForLegendTop - marginForChartTitle,\n\t\t\twidth: (container.node().clientWidth - marginsToExclude) * ratio\n\t\t};\n\n\t\t// If chart is of type pie or donut, width and height should equal to the min of the width and height computed\n\t\tlet maxSizePossible = Math.min(computedChartSize.height, computedChartSize.width);\n\t\tmaxSizePossible = Math.max(maxSizePossible, Configuration.charts.minWidth);\n\n\t\treturn {\n\t\t\theight: maxSizePossible,\n\t\t\twidth: maxSizePossible\n\t\t};\n\t}\n\n\t/*\n\t * removes the chart and any tooltips\n\t */\n\tremoveChart() {\n\t\t// this.holder.remove();\n\t\tthis.holder.querySelector(\"div.chart-wrapper\").parentNode.removeChild(this.holder.querySelector(\"div.chart-wrapper\"));\n\n\t}\n\n\tsetSVG(): any {\n\t\tconst chartSize = this.getChartSize();\n\t\tthis.svg = this.container.append(\"svg\")\n\t\t\t.classed(\"chart-svg \" + this.options.type, true);\n\n\t\tthis.innerWrap = this.svg.append(\"g\")\n\t\t\t.classed(\"inner-wrap\", true);\n\n\t\treturn this.svg;\n\t}\n\n\t// Default fallback when no data processing is needed\n\tdataProcessor(data: ChartData): any {\n\t\treturn data;\n\t}\n\n\t/*\n\t * called when the chart needs to be drawn initially\n\t */\n\tinitialDraw() {\n\t\tconsole.warn(\"You should implement your own `initialDraw()` function.\");\n\t}\n\n\tupdateChart() {\n\t\tconsole.warn(\"You should implement your own `updateChart()` function.\");\n\t}\n\n\tresizeChart() {\n\t\tconsole.warn(\"You should implement your own `resizeChart()` function.\");\n\t}\n\n\tupdate(value?: any) {\n\t\tconsole.warn(\"You should implement your own `update()` function.\");\n\t}\n\n\tresizeWhenContainerChange() {\n\t\tlet containerWidth = this.holder.clientWidth;\n\t\tlet containerHeight = this.holder.clientHeight;\n\n\t\tconst resizeObserver = new ResizeObserver((entries, observer) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tif (Math.abs(containerWidth - this.holder.clientWidth) > 1\n\t\t\t\t\t|| Math.abs(containerHeight - this.holder.clientHeight) > 1) {\n\t\t\t\t\tcontainerWidth = this.holder.clientWidth;\n\t\t\t\t\tcontainerHeight = this.holder.clientHeight;\n\n\t\t\t\t\tselectAll(\".legend-tooltip\").style(\"display\", \"none\");\n\n\t\t\t\t\tthis.hideTooltip();\n\n\t\t\t\t\tthis.resizeChart();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tresizeObserver.observe(this.holder);\n\t}\n\n\t/**\n\t * Draws title within the Chart's svg element.\n\t * @param title\n\t */\n\tdrawTitle() {\n\t\tif (this.options.title) {\n\t\t\t// to add the padding only once\n\t\t\tif (this.svg.select(\"text.chart-title\").empty()) {\n\t\t\t\tconst titleMargin = Configuration.charts.title.marginBottom;\n\t\t\t\tconst translateObj = Tools.getTranslationValues(this.innerWrap.node());\n\n\t\t\t\t// add padding for title, keep other translations\n\t\t\t\tthis.innerWrap\n\t\t\t\t.attr(\"transform\", `translate(${translateObj.tx}, ${+translateObj.ty + titleMargin})`);\n\t\t\t}\n\t\t\t// adds title or gets reference to title\n\t\t\tconst titleRef = Tools.appendOrSelect(this.svg, \"text.chart-title\");\n\t\t\ttitleRef.text(this.options.title);\n\t\t}\n\t}\n\n\tsetClickableLegend() {\n\t\tconst self = this;\n\t\tconst c = select(this.holder);\n\n\t\tif (this.getActiveLegendItems().length === 1) {\n\t\t\tc.selectAll(\".legend-btn.active\").classed(\"not-allowed\", true);\n\t\t}\n\n\t\t// Add hover effect for legend item circles\n\t\tself.addLegendCircleHoverEffect();\n\n\t\tc.selectAll(\".legend-btn\").each(function() {\n\t\t\tselect(this).classed(\"clickable\", true);\n\n\t\t\tselect(this).on(\"click\", function() {\n\t\t\t\tc.selectAll(\".chart-tooltip\").remove();\n\t\t\t\tc.selectAll(\".label-tooltip\").remove();\n\n\t\t\t\t// Only apply legend filters if there are more than 1 active legend items\n\t\t\t\tconst activeLegendItems = self.getActiveLegendItems();\n\t\t\t\tconst legendButton = select(this);\n\t\t\t\tconst enabling = !legendButton.classed(\"active\");\n\n\t\t\t\t// If there are more than 1 active legend items & one is getting toggled on\n\t\t\t\tif (activeLegendItems.length > 1 || enabling) {\n\t\t\t\t\tself.updateLegend(this);\n\t\t\t\t\tself.applyLegendFilter(legendButton.select(\"text\").text());\n\t\t\t\t}\n\t\t\t\t// If there are 2 active legend items & one is getting toggled off\n\t\t\t\tif (activeLegendItems.length === 2 && !enabling) {\n\t\t\t\t\tc.selectAll(\".legend-btn.active\").classed(\"not-allowed\", true);\n\t\t\t\t}\n\n\t\t\t\tif (activeLegendItems.length === 1 && enabling) {\n\t\t\t\t\tc.selectAll(\".legend-btn.not-allowed\").classed(\"not-allowed\", false);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tsetChartIDContainer() {\n\t\tconst parent = select(this.holder);\n\t\tlet chartId, container;\n\t\tif (parent.select(\".chart-wrapper\").nodes().length > 0) {\n\t\t\tcontainer = parent.select(\".chart-wrapper\");\n\t\t\tchartId = container.attr(\"chart-id\");\n\n\t\t\tcontainer.selectAll(\".chart-svg\").remove();\n\t\t} else {\n\t\t\tchartId = this.id;\n\t\t\tcontainer = parent.append(\"div\");\n\t\t\tcontainer.attr(\"chart-id\", chartId)\n\t\t\t\t.classed(\"chart-wrapper\", true)\n\t\t\t\t.classed(`carbon--theme--${this.options.theme}`, true);\n\t\t\tif (container.select(\".legend-wrapper\").nodes().length === 0) {\n\t\t\t\tconst legendWrapper = container.append(\"div\")\n\t\t\t\t\t.attr(\"class\", \"legend-wrapper\")\n\t\t\t\t\t.attr(\"role\", \"region\")\n\t\t\t\t\t.attr(\"aria-label\", `Chart ${chartId} Legend`);\n\n\t\t\t\tlegendWrapper.append(\"ul\")\n\t\t\t\t\t.attr(\"class\", \"legend\");\n\t\t\t}\n\t\t}\n\t\treturn {chartId, container};\n\t}\n\n\tresetOpacity() {\n\t\tconst svg = selectAll(\"svg.chart-svg\");\n\t\tsvg.selectAll(\"rect\")\n\t\t\t.attr(\"fill-opacity\", Configuration.charts.resetOpacity.opacity)\n\t\t\t.attr(\"stroke-opacity\", Configuration.charts.resetOpacity.opacity);\n\t}\n\n\treduceOpacity(exception) {\n\t\tconst exceptedElement = select(exception);\n\t\tconst exceptedElementData = exceptedElement.datum() as any;\n\t\tselect(exception).attr(\"fill-opacity\", false);\n\t\tselect(exception).attr(\"stroke-opacity\", Configuration.charts.reduceOpacity.opacity);\n\t\tselect(exception).attr(\"fill\", (d: any) => this.getFillColor(d.datasetLabel, exceptedElementData.label, exceptedElementData.value));\n\t}\n\n\t// ================================================================================\n\t// Legend\n\t// ================================================================================\n\tgetLegendItems() {\n\t\tlet legendItems = {};\n\t\tif (this.options.keys) {\n\t\t\tlegendItems = this.options.keys;\n\t\t}\n\n\t\treturn legendItems;\n\t}\n\n\tgetLegendItemArray() {\n\t\tconst legendItems = this.getLegendItems();\n\t\tconst legendItemKeys = Object.keys(legendItems);\n\n\t\treturn legendItemKeys.map(key => ({\n\t\t\tkey,\n\t\t\tvalue: legendItems[key]\n\t\t}));\n\t}\n\n\tgetLegendItemKeys() {\n\t\treturn Object.keys(this.getLegendItems());\n\t}\n\n\tgetDisabledLegendItems() {\n\t\tconst legendItems = this.getLegendItems();\n\t\tconst legendItemKeys = Object.keys(legendItems);\n\n\t\treturn legendItemKeys.filter(itemKey => legendItems[itemKey] === Configuration.legend.items.status.DISABLED);\n\t}\n\n\tgetActiveLegendItems() {\n\t\tconst legendItems = this.getLegendItems();\n\t\tconst legendItemKeys = Object.keys(legendItems);\n\n\t\treturn legendItemKeys.filter(itemKey => legendItems[itemKey] === Configuration.legend.items.status.ACTIVE);\n\t}\n\n\tupdateLegend(legend) {\n\t\tconst thisLegend = select(legend);\n\t\tconst circle = select(legend).select(\".legend-circle\");\n\n\t\tthisLegend.classed(\"active\", !thisLegend.classed(\"active\"));\n\t\tif (thisLegend.classed(\"active\")) {\n\t\t\tcircle.style(\"background-color\", circle.style(\"border-color\"))\n\t\t\t\t.style(\"border-color\", Configuration.legend.active.borderColor)\n\t\t\t\t.style(\"border-style\", Configuration.legend.active.borderStyle)\n\t\t\t\t.style(\"border-width\", Configuration.legend.active.borderWidth);\n\t\t} else {\n\t\t\tcircle.style(\"border-color\", circle.style(\"background-color\"))\n\t\t\t\t.style(\"background-color\", Configuration.legend.inactive.backgroundColor)\n\t\t\t\t.style(\"border-style\", Configuration.legend.inactive.borderStyle)\n\t\t\t\t.style(\"border-width\", Configuration.legend.inactive.borderWidth);\n\t\t}\n\t}\n\n\taddLegend() {\n\t\tif (this.container.select(\".legend-tooltip\").nodes().length > 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst legendItemsArray = this.getLegendItemArray();\n\t\tconst legendItems = this.container.select(\".legend\")\n\t\t\t.attr(\"font-size\", Configuration.legend.fontSize)\n\t\t\t.selectAll(\"li.legend-btn\")\n\t\t\t.data(legendItemsArray, d => d.key);\n\n\t\tlegendItems.exit()\n\t\t\t.remove();\n\n\t\tconst legendEnter = legendItems.enter()\n\t\t\t.append(\"li\")\n\t\t\t.attr(\"class\", \"legend-btn active\");\n\n\t\tlegendEnter.append(\"div\")\n\t\t\t.attr(\"class\", \"legend-circle\");\n\n\t\tlegendEnter.append(\"text\");\n\n\t\tlegendEnter.selectAll(\"text\")\n\t\t\t.merge(legendItems.selectAll(\"text\"))\n\t\t\t.text(d => d.key);\n\n\t\tlegendEnter.select(\"div\")\n\t\t\t.merge(legendItems.selectAll(\"div\"))\n\t\t\t.style(\"background-color\", (d, i) => {\n\t\t\t\tif (this.getLegendType() === Configuration.legend.basedOn.LABELS && d.value === Configuration.legend.items.status.ACTIVE) {\n\t\t\t\t\treturn this.getStrokeColor(this.displayData.datasets[0].label, d.key, d.value);\n\t\t\t\t} else if (d.value === Configuration.legend.items.status.ACTIVE) {\n\t\t\t\t\treturn this.getStrokeColor(d.key);\n\t\t\t\t}\n\n\t\t\t\treturn \"white\";\n\t\t\t});\n\t}\n\n\tpositionLegend() {\n\t\tif (this.container.select(\".legend-tooltip\").nodes().length > 0\n\t\t\t&& this.container.select(\".legend-tooltip\").node().style.display === \"block\") { return; }\n\n\t\tconst svgWidth = this.container.select(\"g.inner-wrap\").node().getBBox().width;\n\t\tif (this.isLegendOnRight()) {\n\t\t\tthis.container.selectAll(\".expand-btn\").remove();\n\t\t\tthis.container.select(\".legend-wrapper\").style(\"height\", 0);\n\t\t\tconst containerWidth = this.container.node().clientWidth;\n\t\t\tconst legendWidth = containerWidth - svgWidth;\n\t\t\tthis.container.select(\".legend\").classed(\"right-legend\", true)\n\t\t\t\t.style(\"width\", legendWidth + \"px\");\n\t\t} else {\n\t\t\tthis.container.select(\".legend-wrapper\").style(\"height\", Configuration.legend.wrapperHeight);\n\t\t}\n\n\t\tif (this.hasLegendExpandBtn()) {\n\t\t\tthis.container.select(\".legend\").classed(\"right-legend\", false)\n\t\t\t\t.style(\"width\", null);\n\t\t\tconst btns = this.container.selectAll(\".legend-btn\").nodes();\n\t\t\tlet btnsWidth = 0;\n\t\t\tbtns.forEach(btn => {\n\t\t\t\tif ((btnsWidth + btn.clientWidth + Configuration.legend.widthTolerance) > svgWidth) {\n\t\t\t\t\tselect(btn).style(\"display\", \"none\");\n\t\t\t\t} else {\n\t\t\t\t\tbtnsWidth += btn.clientWidth;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (this.container.select(\".expand-btn\").nodes().length === 0) {\n\t\t\t\tthis.addTooltipOpenButtonToLegend();\n\t\t\t}\n\t\t}\n\t}\n\n\taddOrUpdateLegend() {\n\t\tthis.addLegend();\n\n\t\tif (this.options.legendClickable) {\n\t\t\tthis.setClickableLegend();\n\t\t}\n\n\t\tthis.positionLegend();\n\t}\n\n\taddLegendCircleHoverEffect() {\n\t\tthis.container.selectAll(\"li.legend-btn\")\n\t\t\t.on(\"mouseover\", function() {\n\t\t\t\tconst circleRef = select(this).select(\"div.legend-circle\");\n\t\t\t\tconst color = (circleRef.node() as HTMLElement).style.backgroundColor.substring(4,\n\t\t\t\t\t(circleRef.node() as HTMLElement).style.backgroundColor.length - 1);\n\n\t\t\t\tcircleRef.style(\n\t\t\t\t\t\"box-shadow\",\n\t\t\t\t\t`0 0 0 ${Configuration.legend.hoverShadowSize} rgba(${color}, ${Configuration.legend.hoverShadowTransparency})`\n\t\t\t\t);\n\t\t\t})\n\t\t\t.on(\"mouseout\", function() {\n\t\t\t\tselect(this).select(\"div.legend-circle\").style(\"box-shadow\", \"none\");\n\t\t\t});\n\t}\n\n\thasLegendExpandBtn() {\n\t\treturn (\n\t\t\tthis.container.node().clientWidth < Configuration.charts.widthBreak ||\n\t\t\t\tthis.container.node().clientHeight < this.container.select(\"ul.legend\").node().clientHeight\n\n\t\t\t// && this.getLegendItems().length > Configuration.legend.countBreak\n\t\t);\n\t}\n\n\tisLegendOnRight() {\n\t\treturn (\n\t\t\tthis.container.node().clientWidth > Configuration.charts.widthBreak &&\n\t\t\t\tthis.container.node().clientHeight > this.container.select(\"ul.legend\").node().clientHeight\n\n\t\t\t// && this.getLegendItems().length > Configuration.legend.countBreak\n\t\t);\n\t}\n\n\t/**\n\t *\n\t * When a legend item is clicked, apply/remove the appropriate filter\n\t * @param {string} changedLabel The label of the legend element the user clicked on\n\t * @memberof PieChart\n\t */\n\tapplyLegendFilter(changedLabel: string) {\n\t\tconst { ACTIVE, DISABLED } = Configuration.legend.items.status;\n\t\tconst oldStatus = this.options.keys[changedLabel];\n\n\t\tthis.options.keys[changedLabel] = (oldStatus === ACTIVE ? DISABLED : ACTIVE);\n\n\t\tthis.update();\n\t}\n\n\tsetClickableLegendInTooltip() {\n\t\tconst self = this;\n\t\tconst c = select(this.container);\n\t\tconst tooltip = c.select(\".legend-tooltip-content\");\n\t\ttooltip.selectAll(\".legend-btn\").each(function() {\n\t\t\tselect(this).on(\"click\", function() {\n\t\t\t\tself.updateLegend(this);\n\n\t\t\t\t// TODO - setClickableLegendInTooltip()\n\t\t\t});\n\t\t});\n\t}\n\n\t// ================================================================================\n\t// Tooltips\n\t// ================================================================================\n\taddTooltipOpenButtonToLegend() {\n\t\tconst self = this;\n\t\tconst thisLegend = this.container.select(\".legend\");\n\t\tthisLegend.append(\"div\")\n\t\t\t.attr(\"class\", \"expand-btn\")\n\t\t\t.style(\"cursor\", \"pointer\")\n\t\t\t.on(\"click\", function() {\n\t\t\t\tself.openLegendTooltip(this);\n\t\t\t});\n\t}\n\n\t// TODO - Refactor\n\topenLegendTooltip(target) {\n\t\tselectAll(\".legend-tooltip\").remove();\n\t\tconst mouseXPoint = mouse(this.container.node())[0];\n\t\tconst windowXPoint = event.x;\n\t\tlet tooltip;\n\t\tif (this.container.select(\".legend-tooltip\").nodes().length > 0) {\n\t\t\ttooltip = selectAll(\".legend-tooltip\").style(\"display\", \"block\");\n\t\t\ttooltip.select(\"arrow\").remove();\n\t\t} else {\n\t\t\ttooltip = this.container.append(\"div\")\n\t\t\t\t.attr(\"class\", \"tooltip chart-tooltip legend-tooltip\")\n\t\t\t\t.style(\"display\", \"block\")\n\t\t\t\t.style(\"top\", (mouse(this.container.node())[1] - Configuration.legend.margin.top) + \"px\");\n\t\t\ttooltip.append(\"p\").text(\"Legend\")\n\t\t\t\t.attr(\"class\", \"legend-tooltip-header\");\n\t\t\ttooltip.append(\"ul\")\n\t\t\t\t.attr(\"class\", \"legend-tooltip-content\")\n\t\t\t\t.attr(\"font-size\", Configuration.legend.fontSize);\n\t\t\tTools.addCloseBtn(tooltip, \"md\", \"white\")\n\t\t\t\t.on(\"click\", () => {\n\t\t\t\t\tselectAll(\".legend-tooltip\").style(\"display\", \"none\");\n\t\t\t\t});\n\n\t\t\tconst activeLegendItems = this.getActiveLegendItems();\n\t\t\tconst legendContent = select(\".legend-tooltip-content\")\n\t\t\t\t.attr(\"font-size\", Configuration.legend.fontSize)\n\t\t\t\t.selectAll(\"div\")\n\t\t\t\t.data(this.getLegendItemArray(), (d: any) => d.key)\n\t\t\t\t.enter()\n\t\t\t\t\t.append(\"li\")\n\t\t\t\t\t.classed(\"legend-btn\", true)\n\t\t\t\t\t.classed(\"clickable\", this.options.legendClickable)\n\t\t\t\t\t.classed(\"active\", d => d.value === Configuration.legend.items.status.ACTIVE)\n\t\t\t\t\t.classed(\"not-allowed\", d => activeLegendItems.length === 1 && d.value === Configuration.legend.items.status.ACTIVE)\n\t\t\t\t\t.on(\"click\", (clickedItem, e) => {\n\t\t\t\t\t\tif (!this.options.legendClickable) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst legendButton = select(event.currentTarget);\n\t\t\t\t\t\tconst enabling = !legendButton.classed(\"active\");\n\n\t\t\t\t\t\tif (activeLegendItems.length > 1 || enabling) {\n\t\t\t\t\t\t\tthis.updateLegend(event.currentTarget);\n\n\t\t\t\t\t\t\tthis.applyLegendFilter(clickedItem.key);\n\n\t\t\t\t\t\t\tthis.container.selectAll(\"ul.legend li.legend-btn\")\n\t\t\t\t\t\t\t\t.data(this.getLegendItemArray(), (d: any) => d.key)\n\t\t\t\t\t\t\t\t.classed(\"active\", d => d.value === Configuration.legend.items.status.ACTIVE)\n\t\t\t\t\t\t\t\t.select(\"div.legend-circle\")\n\t\t\t\t\t\t\t\t.style(\"background-color\", (d, i) => {\n\t\t\t\t\t\t\t\t\tif (this.getLegendType() === Configuration.legend.basedOn.LABELS && d.value === Configuration.legend.items.status.ACTIVE) {\n\t\t\t\t\t\t\t\t\t\treturn this.getStrokeColor(this.displayData.datasets[0].label, d.key, d.value);\n\t\t\t\t\t\t\t\t\t} else if (d.value === Configuration.legend.items.status.ACTIVE) {\n\t\t\t\t\t\t\t\t\t\treturn this.getStrokeColor(d.key);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn \"white\";\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.style(\"border-color\", d => {\n\t\t\t\t\t\t\t\t\tif (this.getLegendType() === Configuration.legend.basedOn.LABELS) {\n\t\t\t\t\t\t\t\t\t\treturn this.getStrokeColor(this.displayData.datasets[0].label, d.key, d.value);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn this.getStrokeColor(d.key);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.style(\"border-style\", Configuration.legend.inactive.borderStyle)\n\t\t\t\t\t\t\t\t.style(\"border-width\", Configuration.legend.inactive.borderWidth);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If there are 2 active legend items & one is getting toggled off\n\t\t\t\t\t\tif (activeLegendItems.length === 2 && !enabling) {\n\t\t\t\t\t\t\tthis.container.selectAll(\".legend-btn.active\").classed(\"not-allowed\", true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (activeLegendItems.length === 1 && enabling) {\n\t\t\t\t\t\t\tthis.container.selectAll(\".legend-btn.not-allowed\").classed(\"not-allowed\", false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\tlegendContent.append(\"div\")\n\t\t\t\t.attr(\"class\", \"legend-circle\")\n\t\t\t\t.style(\"background-color\", (d, i) => {\n\t\t\t\t\tif (this.getLegendType() === Configuration.legend.basedOn.LABELS && d.value === Configuration.legend.items.status.ACTIVE) {\n\t\t\t\t\t\treturn this.getStrokeColor(this.displayData.datasets[0].label, d.key, d.value);\n\t\t\t\t\t} else if (d.value === Configuration.legend.items.status.ACTIVE) {\n\t\t\t\t\t\treturn this.getStrokeColor(d.key);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn \"white\";\n\t\t\t\t})\n\t\t\t\t.style(\"border-color\", d => {\n\t\t\t\t\tif (this.getLegendType() === Configuration.legend.basedOn.LABELS) {\n\t\t\t\t\t\treturn this.getStrokeColor(this.displayData.datasets[0].label, d.key, d.value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn this.getStrokeColor(d.key);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.style(\"border-style\", Configuration.legend.inactive.borderStyle)\n\t\t\t\t.style(\"border-width\", Configuration.legend.inactive.borderWidth);\n\n\t\t\tlegendContent.append(\"text\")\n\t\t\t\t.text(d => d.key);\n\t\t}\n\n\t\t// Position the tooltip\n\t\ttooltip.classed(\"arrow-right\", true);\n\t\ttooltip.append(\"div\").attr(\"class\", \"arrow\");\n\t\ttooltip.style(\"left\", `${mouseXPoint - Configuration.tooltip.width - Configuration.tooltip.arrowWidth}px`);\n\n\t\tif (this.options.legendClickable) {\n\t\t\tthis.addLegendCircleHoverEffect();\n\t\t}\n\t}\n\n\tshowLabelTooltip(d, leftSide) {\n\t\tselectAll(\".label-tooltip\").remove();\n\t\tconst mouseXPoint = mouse(this.holder as SVGSVGElement)[0] + Configuration.tooltip.arrowWidth;\n\t\tconst tooltip = this.container.append(\"div\")\n\t\t\t.attr(\"class\", \"tooltip label-tooltip\")\n\t\t\t.style(\"top\", mouse(this.holder as SVGSVGElement)[1] - Configuration.tooltip.magicTop1 + \"px\");\n\t\tTools.addCloseBtn(tooltip, \"xs\")\n\t\t\t.on(\"click\", () => {\n\t\t\t\tthis.resetOpacity();\n\t\t\t\tselectAll(\".tooltip\").remove();\n\t\t\t});\n\t\ttooltip.append(\"p\").text(d);\n\n\t\tif (leftSide) {\n\t\t\ttooltip.classed(\"arrow-left\", true)\n\t\t\t\t\t.style(\"left\", mouseXPoint + \"px\")\n\t\t\t\t\t.append(\"div\").attr(\"class\", \"arrow\");\n\t\t} else {\n\t\t\ttooltip.classed(\"arrow-right\", true);\n\n\t\t\tconst xPoint = mouseXPoint - (tooltip.node() as Element).clientWidth - Configuration.tooltip.magicXPoint2;\n\t\t\ttooltip.style(\"left\", xPoint + \"px\")\n\t\t\t\t\t.append(\"div\").attr(\"class\", \"arrow\");\n\t\t}\n\t}\n\n\thideTooltip() {\n\t\tthis.resetOpacity();\n\n\t\tthis.tooltip.hide();\n\t}\n\n\tgenerateTooltipHTML(label, value) {\n\t\tif (this.options.tooltip.size === Configuration.tooltip.size.COMPACT) {\n\t\t\treturn `<b>${label}:</b> ${value}<br/>`;\n\t\t} else {\n\t\t\treturn `\n\t\t\t\t<p class='bignum'>${label}</p>\n\t\t\t\t<p>${value}</p>\n\t\t\t`;\n\t\t}\n\t}\n\n\tgetTooltipHTML = d => {\n\t\tconst formattedValue = this.options.tooltip.formatter ? this.options.tooltip.formatter(d.value) : d.value.toLocaleString(\"en\");\n\t\tif (this.getLegendType() === Configuration.legend.basedOn.LABELS) {\n\t\t\treturn this.generateTooltipHTML(d.label, formattedValue);\n\t\t}\n\n\t\treturn this.generateTooltipHTML(d.datasetLabel, formattedValue);\n\t}\n\n\tshowTooltip(d, clickedElement?: Element) {\n\t\t// Reset opacity of all elements in the chart\n\t\tthis.resetOpacity();\n\n\t\tconst { customHTML } = this.options.tooltip;\n\t\tlet contentHTML;\n\t\tif (customHTML) {\n\t\t\tcontentHTML = customHTML;\n\t\t} else {\n\t\t\tcontentHTML = this.getTooltipHTML(d);\n\t\t}\n\n\t\tthis.tooltip.show(contentHTML);\n\t}\n\n\tgetFillScale() {\n\t\treturn this.options.accessibility ? this.patternScale : this.colorScale;\n\t}\n\n\tgetDefaultTransition(): Transition<any, any, any, any> {\n\t\tif (this.options.animations === false) {\n\t\t\treturn this.getInstantTransition();\n\t\t}\n\n\t\treturn transition().duration(Configuration.transitions.default.duration);\n\t}\n\n\tgetInstantTransition(): Transition<any, any, any, any>  {\n\t\treturn transition().duration(0);\n\t}\n\n\t// Used to determine whether to use a transition for updating fill attributes in charting elements\n\t// Will disable the transition if in accessibility mode\n\tgetFillTransition(animate?: boolean): Transition<any, any, any, any>  {\n\t\tif (this.options.animations === false) {\n\t\t\treturn this.getInstantTransition();\n\t\t}\n\n\t\treturn transition().duration(animate === false ? 0 : Configuration.transitions.default.duration);\n\t}\n\n\tgetBBox(selector: any) {\n\t\treturn this.innerWrap.select(selector).node().getBBox();\n\t}\n}\n","import { BaseAxisChart } from \"./base-axis-chart\";\n\nimport * as ChartInstances from \"./index\";\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, ComboChartOptions, ChartType } from \"./configuration\";\nimport { Tools } from \"./tools\";\n\n// TODO - Support adding/removing charts when updating data\nexport class ComboChart extends BaseAxisChart {\n\t// Includes all the sub-charts\n\tcharts = [];\n\n\toptions: ComboChartOptions;\n\n\tconstructor(holder: Element, configs: ChartConfig<ComboChartOptions>) {\n\t\tsuper(holder, configs);\n\n\t\tthis.options.type = ChartType.COMBO;\n\t}\n\n\t// Extract data related to the specific sub-chart\n\textractDataForChart(chartType: string) {\n\t\treturn Tools.merge({}, this.displayData, {\n\t\t\tdatasets: this.displayData.datasets.filter(_dataset => _dataset.chartType === chartType)\n\t\t});\n\t}\n\n\tupdate() {\n\t\tsuper.update();\n\n\t\tif (this.charts && this.charts.length > 0) {\n\t\t\tthis.updateChildrenScales();\n\t\t\tthis.setChildrenData();\n\t\t}\n\t}\n\n\t// This only needs to be performed in the sub-chart instances\n\tinterpolateValues(newData: any) {\n\t\treturn;\n\t}\n\n\t// This only needs to be performed in the sub-chart instances\n\taddDataPointEventListener() {\n\t\treturn;\n\t}\n\n\tdraw() {\n\t\t// If charts have been initialized\n\t\tif (this.charts.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.displayData.datasets.forEach(dataset => {\n\t\t\t// If the chart type is valid\n\t\t\tif (ChartInstances[dataset.chartType]) {\n\t\t\t\t// If the chart for this dataset has not already been created\n\t\t\t\tif (this.charts.findIndex(chart => chart.type === dataset.chartType) === -1) {\n\t\t\t\t\tif (ChartInstances[dataset.chartType].prototype instanceof BaseAxisChart) {\n\t\t\t\t\t\tconst chartConfigs = {\n\t\t\t\t\t\t\tdata: this.extractDataForChart(dataset.chartType),\n\t\t\t\t\t\t\toptions: Tools.merge({}, this.options, {\n\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\tx: this.x,\n\t\t\t\t\t\t\t\t\ty: this.y,\n\t\t\t\t\t\t\t\t\ty2: this.y2\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst chart = new ChartInstances[dataset.chartType](\n\t\t\t\t\t\t\tthis.holder,\n\t\t\t\t\t\t\tchartConfigs\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Override sub-chart update function\n\t\t\t\t\t\tchart.update = function () {\n\t\t\t\t\t\t\tthis.displayData = this.updateDisplayData();\n\n\t\t\t\t\t\t\tthis.interpolateValues(this.displayData);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Add chart to the array of sub-charts\n\t\t\t\t\t\tthis.charts.push({\n\t\t\t\t\t\t\ttype: dataset.chartType,\n\t\t\t\t\t\t\tinstance: chart\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(`Chart type ${dataset.chartType} not supported in Combo - your chart should extend BaseAxisChart`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.error(`Invalid chart type: \"${dataset.chartType}\"`);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Pass down the x & y scales to the sub-charts\n\tupdateChildrenScales() {\n\t\tthis.charts.forEach(chart => {\n\t\t\tchart.instance.setXScale(this.x);\n\t\t\tchart.instance.setYScale(this.y);\n\t\t});\n\t}\n\n\t// Extract data related to each sub-chart and set them\n\tsetChildrenData() {\n\t\tthis.charts.forEach(chart => {\n\t\t\tconst chartData = this.extractDataForChart(chart.type);\n\n\t\t\tchart.instance.setData(chartData);\n\n\t\t\tconsole.log(`SET ${chart.type} data to`, chartData);\n\t\t});\n\t}\n}\n","export * from \"./overlay\";\n","import * as Configuration from \"../configuration\";\n\nexport class ChartOverlay {\n\tholder: HTMLElement;\n\toverlayElement: HTMLElement;\n\toverlayOptions: Configuration.ChartOverlayOptions;\n\n\tconstructor(holder: Element, options: Configuration.ChartOverlayOptions) {\n\t\tthis.holder = <HTMLElement>holder;\n\t\tthis.overlayElement = this.holder.querySelector(\"div.chart-wrapper div.chart-overlay\");\n\n\t\tif (options) {\n\t\t\tthis.overlayOptions = options;\n\t\t} else {\n\t\t\tthis.overlayOptions = Configuration.options.BASE.overlay;\n\t\t}\n\t}\n\n\tshow(type?: string) {\n\t\tif (this.overlayElement) {\n\t\t\tthis.overlayElement.parentNode.removeChild(this.overlayElement);\n\t\t}\n\n\t\tconst overlay = document.createElement(\"div\");\n\n\t\toverlay.classList.add(\"chart-overlay\");\n\t\toverlay.innerHTML = this.overlayOptions.innerHTML[type ? type : \"loading\"];\n\n\t\tthis.overlayElement = this.holder.querySelector(\"div.chart-wrapper\").appendChild(overlay);\n\t}\n\n\thide() {\n\t\tthis.overlayElement.style.display = \"none\";\n\t}\n}\n","import * as Configuration from \"../configuration\";\n\n// Carbon position service\nimport Position, { PLACEMENTS } from \"@carbon/utils-position\";\n\n// D3 Imports\nimport { select, selectAll, mouse } from \"d3-selection\";\n\nexport class ChartTooltip {\n\tcontainer: HTMLElement;\n\tpositionService: Position = new Position();\n\n\tconstructor(container: Element) {\n\t\tthis.container = container as HTMLElement;\n\t}\n\n\tgetRef = () => select(this.container).select(\"div.chart-tooltip\").node() as HTMLElement;\n\n\tpositionTooltip() {\n\t\tconst target = this.getRef();\n\t\tconst mouseRelativePos = mouse(this.container);\n\n\t\t// Find out whether tooltip should be shown on the left or right side\n\t\tconst bestPlacementOption = this.positionService.findBestPlacementAt(\n\t\t\t{\n\t\t\t\tleft: mouseRelativePos[0],\n\t\t\t\ttop: mouseRelativePos[1]\n\t\t\t},\n\t\t\ttarget,\n\t\t\t[\n\t\t\t\tPLACEMENTS.RIGHT,\n\t\t\t\tPLACEMENTS.LEFT\n\t\t\t],\n\t\t\t() => ({\n\t\t\t\twidth: this.container.offsetWidth,\n\t\t\t\theight: this.container.offsetHeight\n\t\t\t})\n\t\t);\n\n\t\tlet { magicLeft2: horizontalOffset } = Configuration.tooltip;\n\t\tif (bestPlacementOption === PLACEMENTS.LEFT) {\n\t\t\thorizontalOffset *= -1;\n\t\t}\n\n\t\t// Get coordinates to where tooltip should be positioned\n\t\tconst pos = this.positionService.findPositionAt(\n\t\t\t{\n\t\t\t\tleft: mouseRelativePos[0] + horizontalOffset,\n\t\t\t\ttop: mouseRelativePos[1]\n\t\t\t},\n\t\t\ttarget,\n\t\t\tbestPlacementOption\n\t\t);\n\n\t\tthis.positionService.setElement(target, pos);\n\t}\n\n\tshow(contentHTML) {\n\t\t// Remove existing tooltips on the page\n\t\t// TODO - Update class to not conflict with other elements on page\n\t\tselectAll(\".chart-tooltip\").remove();\n\n\t\t// Draw tooltip\n\t\tconst tooltip = select(this.container).append(\"div\")\n\t\t\t.attr(\"class\", \"tooltip chart-tooltip\");\n\n\t\t// Apply html content to the tooltip\n\t\ttooltip.append(\"div\")\n\t\t\t.attr(\"class\", \"text-box\")\n\t\t\t.html(contentHTML);\n\n\t\t// Position the tooltip\n\t\tthis.positionTooltip();\n\n\t\t// Fade in\n\t\ttooltip.style(\"opacity\", 0)\n\t\t\t.transition()\n\t\t\t.duration(Configuration.tooltip.fadeIn.duration)\n\t\t\t.style(\"opacity\", 1);\n\n\t\t// this.addEventListeners();\n\t}\n\n\thide() {\n\t\tconst tooltipRef = select(this.container).select(\"div.chart-tooltip\");\n\n\t\t// Fade out and remove\n\t\ttooltipRef.style(\"opacity\", 1)\n\t\t\t.transition()\n\t\t\t.duration(Configuration.tooltip.fadeOut.duration)\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\tthis.removeEventLinteners();\n\t}\n\n\thandleTooltipEvents(evt: Event) {\n\t\t// If keyboard event\n\t\tif (evt[\"key\"]) {\n\t\t\tif (evt[\"key\"] === \"Escape\" || evt[\"key\"] === \"Esc\") {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t} else {\n\t\t\tconst targetTagName = evt.target[\"tagName\"];\n\t\t\tconst targetsToBeSkipped = Configuration.options.BASE.tooltip.targetsToSkip;\n\t\t\tif (targetsToBeSkipped.indexOf(targetTagName) === -1) {\n\t\t\t\t// If mouse event\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\taddEventListeners() {\n\t\tconst tooltipRef = select(this.container).select(\"div.chart-tooltip\");\n\n\t\t// Apply the event listeners to close the tooltip\n\t\t// setTimeout is there to avoid catching the click event that opened the tooltip\n\t\tsetTimeout(() => {\n\t\t\t// When ESC is pressed\n\t\t\twindow.addEventListener(\"keydown\", this.handleTooltipEvents);\n\n\t\t\t// If clicked outside\n\t\t\tthis.container.addEventListener(\"click\", this.handleTooltipEvents);\n\n\t\t\t// Stop clicking inside tooltip from bubbling up to window\n\t\t\ttooltipRef.on(\"click\", () => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t}, 0);\n\t}\n\n\tremoveEventLinteners() {\n\t\t// Remove eventlistener to close tooltip when ESC is pressed\n\t\twindow.removeEventListener(\"keydown\", this.handleTooltipEvents);\n\n\t\t// Remove eventlistener to close tooltip when clicked outside\n\t\tthis.container.removeEventListener(\"click\", this.handleTooltipEvents);\n\t}\n}\n","import { ScaleBand, ScaleLinear } from \"d3-scale\";\nimport { Tools } from \"./tools\";\nimport * as colorPalettes from \"./services/colorPalettes\";\n\n/*\n **********************\n * chart config enums *\n **********************\n */\n\n/**\n * enum of all supported charts\n */\nexport enum ChartType {\n\tBAR = \"bar\",\n\tLINE = \"line\",\n\tSCATTER = \"scatter\",\n\tPIE = \"pie\",\n\tDONUT = \"donut\",\n\tCOMBO = \"combo\"\n}\n\n/**\n * enum of all supported chart themes\n */\nexport enum ChartTheme {\n\tWHITE = \"white\",\n\tG100 = \"g100\",\n\tG90 = \"g90\",\n\tG10 = \"g10\"\n}\n/**\n * enum of all possible tooltip sizes\n */\nexport enum TooltipSize {\n\tCOMPACT = \"compact\",\n\tFULL = \"\"\n}\n\n/**\n * enum of all possible threshold themes\n */\nexport enum ThresholdTheme {\n\tSUCCESS = \"success\",\n\tERROR = \"error\",\n\tWARNING = \"warning\"\n}\n\n/*\n *****************************\n * User configurable options *\n *****************************\n */\n/**\n * customize the overlay contents\n */\nexport interface ChartOverlayOptions {\n\t/**\n\t * types of overlay states\n\t */\n\ttypes: {\n\t\tloading: string;\n\t\tnoData: string;\n\t};\n\t/**\n\t * raw html to be injected into the overlay container\n\t */\n\tinnerHTML: {\n\t\tloading: string;\n\t\tnoData: string;\n\t};\n}\n\n/**\n * Base chart options common to any chart\n */\nexport interface BaseChartOptions {\n\t/**\n\t * Internal property to track what type of chart should be instantiated\n\t */\n\ttype?: ChartType;\n\t/**\n\t * boolean to enable accessibility mode\n\t */\n\taccessibility?: boolean;\n\t/**\n\t * boolean to disable animations (enabled by default)\n\t */\n\tanimations?: boolean;\n\t/**\n\t * boolean to enable/disable legend interactivity\n\t */\n\tlegendClickable?: boolean;\n\t/**\n\t * optional title for chart\n\t */\n\ttitle?: string;\n\t/**\n\t * boolean to prevent the container from resizing\n\t */\n\tcontainerResizable?: boolean;\n\t/**\n\t * array of hex colors for the chart to render from\n\t */\n\tcolors: Array<string>;\n\t/**\n\t * supported chart theme\n\t */\n\ttheme?: ChartTheme;\n\t/**\n\t * tooltip configuration\n\t */\n\ttooltip?: {\n\t\t/**\n\t\t * specify the size of the tooltip\n\t\t */\n\t\tsize: TooltipSize;\n\t\t/**\n\t\t * a function to format the tooltip contents\n\t\t */\n\t\tformatter: Function;\n\t\t/**\n\t\t * elements onto which a hover or click would not trigger the tooltip to hide\n\t\t */\n\t\ttargetsToSkip: Array<String>;\n\t\t/**\n\t\t * custom HTML content for tooltip provided by user\n\t\t */\n\t\tcustomHTML?: string;\n\t};\n\toverlay?: ChartOverlayOptions;\n\t/**\n\t * Optional function to generate the fill color based on datasetLabel, label, and/or value\n\t */\n\tgetFillColor?: (datasetLabel: any, label?: any, value?: any) => string;\n\t/**\n\t * Optional function to generate the stroke color based on datasetLabel, label, and/or value\n\t */\n\tgetStrokeColor?: (datasetLabel: any, label?: any, value?: any) => string;\n\t/**\n\t * Optionally specify a width for the chart\n\t */\n\twidth?: number;\n\t/**\n\t * Optionally specify a height for the chart\n\t */\n\theight?: number;\n\t/**\n\t * Internal property to track keys in the legend\n\t */\n\tkeys?: Object;\n}\n/**\n * Base chart options common to any chart\n */\nconst baseOptions: BaseChartOptions = {\n\tlegendClickable: true,\n\tcontainerResizable: true,\n\tcolors: colorPalettes.DEFAULT,\n\ttooltip: {\n\t\tsize: TooltipSize.FULL,\n\t\tformatter: null,\n\t\ttargetsToSkip: [\"rect\", \"circle\", \"path\"]\n\t},\n\ttheme: ChartTheme.WHITE,\n\toverlay: {\n\t\ttypes: {\n\t\t\tloading: \"loading\",\n\t\t\tnoData: \"noData\"\n\t\t},\n\t\tinnerHTML: {\n\t\t\tloading: `\n\t\t\t<div class=\"ccharts-overlay-content\">\n\t\t\t\t<div data-loading class=\"bx--loading bx--loading--small\">\n\t\t\t\t\t<svg class=\"bx--loading__svg\" viewBox=\"-75 -75 150 150\">\n\t\t\t\t\t\t<title>Loading</title>\n\t\t\t\t\t\t<circle cx=\"0\" cy=\"0\" r=\"37.5\" />\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\n\t\t\t\t<p>Loading</p>\n\t\t\t</div>\n\t\t\t`,\n\t\t\tnoData: `\n\t\t\t<div class=\"ccharts-overlay-content\">\n\t\t\t\tNo data available\n\t\t\t</div>\n\t\t\t`\n\t\t}\n\t}\n};\n\n/**\n * Options specific to pie charts\n */\nexport type PieChartOptions = BaseChartOptions;\n/**\n * Options specific to pie charts\n */\nconst pieOptions: PieChartOptions = Tools.merge({}, baseOptions);\n\n/**\n * Options specific to donut charts\n */\nexport interface DonutChartOptions extends PieChartOptions {\n\tcenter?: {\n\t\tlabel: string;\n\t\tnumber: string;\n\t};\n\tcenterLabel?: string;\n\tcenterNumber?: string;\n}\n\nconst donutOptions: DonutChartOptions = Tools.merge({}, baseOptions);\n\n/**\n * represents a threshold visually bringing attention to specific values/issues\n */\nexport interface Threshold {\n\t/**\n\t * range of values the threshold should apply to\n\t */\n\trange: Array<number>;\n\t/**\n\t * theme of the threshold\n\t */\n\ttheme: ThresholdTheme;\n}\n\n/**\n * options to configure a scale. not all options are used by all scales\n */\nexport interface ScaleOptions {\n\t/**\n\t * optional title for the scales\n\t */\n\ttitle?: string;\n\t/**\n\t * function to adjust the min value\n\t */\n\tmaxValueAdjuster?: Function;\n\t/**\n\t * function to adjust the max value\n\t */\n\tminValueAdjuster?: Function;\n\t/**\n\t * function to format the ticks\n\t */\n\tformatter?: Function;\n\t/**\n\t * tick configuration\n\t */\n\tticks?: {\n\t\t/**\n\t\t * maximum ... number of ticks?\n\t\t */\n\t\tmax: number;\n\t\t/**\n\t\t * minumum ... number of ticks?\n\t\t */\n\t\tmin: number;\n\t};\n\t/**\n\t * configuration for the thresholds\n\t */\n\tthresholds?: Array<Threshold>;\n}\n\n/**\n * options to configure a Y (vertical) scale\n */\nexport interface YScaleOptions extends ScaleOptions {\n\t/**\n\t * boolean to indicate whether data should be stacked\n\t */\n\tstacked?: boolean;\n}\n\n/**\n * options for the x, y, and y2 scales/axis\n */\nexport interface Scales {\n\tx: ScaleOptions;\n\ty: YScaleOptions;\n\ty2?: YScaleOptions;\n}\n\nexport interface Axis {\n\tx: ScaleBand<any>;\n\ty: ScaleLinear<any, any>;\n\ty2: ScaleLinear<any, any>;\n}\n\n/**\n * Options common to any chart with an axis\n */\nexport interface AxisChartOptions extends BaseChartOptions {\n\t/**\n\t * scale configuration\n\t */\n\tscales?: Scales;\n\taxis?: Axis;\n}\n/**\n * Options common to any chart with an axis\n */\nconst axisOptions: AxisChartOptions = Tools.merge({}, baseOptions, {\n\tscales: {\n\t\tx: {\n\t\t\tdomain: null,\n\t\t\tticks: 5\n\t\t},\n\t\ty: {\n\t\t\tdomain: null,\n\t\t\tticks: 5\n\t\t},\n\t\tySecondary: {\n\t\t\tdomain: null,\n\t\t\tticks: 10\n\t\t}\n\t}\n});\n\n/**\n * options specific to line charts\n */\nexport interface LineChartOptions extends AxisChartOptions {\n\t/**\n\t * options for the curve of the line\n\t */\n\tcurve?: string | {\n\t\tname: string;\n\t};\n\t/**\n\t * options for the line points\n\t */\n\tpoints?: {\n\t\t/**\n\t\t * sets the radius of the point\n\t\t */\n\t\tradius: number;\n\t\tfillOpacity?: number;\n\t};\n}\n/**\n * options specific to line charts\n */\nconst lineOptions: LineChartOptions = Tools.merge({}, axisOptions, {\n\tpoints: {\n\t\t// default point radius to 3\n\t\tradius: 3\n\t}\n});\n\n/**\n * options specific to scatter charts\n */\nexport interface ScatterChartOptions extends AxisChartOptions {\n\t/**\n\t * options for the points\n\t */\n\tpoints?: {\n\t\t/**\n\t\t * sets the radius of the point\n\t\t */\n\t\tradius: number;\n\t\tfillOpacity?: number;\n\t};\n}\n/**\n * options specific to line charts\n */\nconst scatterOptions: ScatterChartOptions = Tools.merge({}, axisOptions, {\n\tpoints: {\n\t\t// default point radius to 4\n\t\tradius: 4,\n\t\tfillOpacity: 0.3\n\t}\n});\n\n/**\n * options specific to bar charts\n */\nexport interface BarChartOptions extends AxisChartOptions {\n\t/**\n\t * options for all bars\n\t */\n\tbars?: {\n\t\t/**\n\t\t * constrains the bars to a maximum width\n\t\t */\n\t\tmaxWidth: number;\n\t};\n}\n/**\n * options specific to bar charts\n */\nconst barOptions: BarChartOptions = Tools.merge({}, axisOptions);\n\n/**\n * options specific to bar charts\n */\nexport type StackedBarChartOptions = BarChartOptions;\n/**\n * options specific to bar charts\n */\nconst stackedBarOptions: StackedBarChartOptions = Tools.merge({}, barOptions);\n\n/**\n * Options specific to combo charts.\n *\n * This interface also extends all other AxisChartOption interfaces as the single config is shared across all charts in a combo\n */\nexport interface ComboChartOptions extends AxisChartOptions, BarChartOptions, LineChartOptions, ScatterChartOptions { }\n/**\n * Options specific to combo charts.\n *\n */\nconst comboOptions: ComboChartOptions = Tools.merge({}, axisOptions, barOptions, lineOptions, scatterOptions);\n\n/**\n * Configuration passed to the chart.\n *\n * Includes options and data\n */\nexport interface ChartConfig<T extends BaseChartOptions> {\n\toptions: T;\n\tdata: ChartData | Promise<ChartData>;\n}\n\nexport const options = {\n\tBASE: baseOptions,\n\tAXIS: axisOptions,\n\tLINE: lineOptions,\n\tSCATTER: scatterOptions,\n\tBAR: barOptions,\n\tSTACKED_BAR: stackedBarOptions,\n\tCOMBO: comboOptions,\n\tPIE: pieOptions,\n\tDONUT: donutOptions\n};\n\nexport interface DataSet {\n\t/**\n\t * Label for the dataset\n\t */\n\tlabel: string;\n\t/**\n\t * Array of hex background colors\n\t */\n\tbackgroundColors: Array<string>;\n\t/**\n\t * Array of data values\n\t */\n\tdata: Array<any>;\n\t/**\n\t * chartType - only used with combo charts\n\t */\n\tchartType?: ChartType;\n}\n\nexport interface ChartData {\n\t/**\n\t * Labels for the x (horizontal) axis. Should match the number of items in each dataset data array\n\t */\n\tlabels: Array<string>;\n\t/**\n\t * Array of datasets to display in the chart\n\t */\n\tdatasets: Array<DataSet>;\n}\n\n/*\n ********************************************\n * Internal (non-user configurable) options *\n ********************************************\n */\n\n/**\n * General chart options. margins, min/max widths, etc\n */\nexport const charts = {\n\tmargin: {\n\t\ttop: 20,\n\t\tbottom: 60,\n\t\tleft: 60,\n\t\tright: 20,\n\t\tbar: {\n\t\t\ttop: 0,\n\t\t\tright: -40,\n\t\t\tbottom: 50,\n\t\t\tleft: 40\n\t\t},\n\t\tline: {\n\t\t\ttop: 0,\n\t\t\tright: -40,\n\t\t\tbottom: 50,\n\t\t\tleft: 40\n\t\t}\n\t},\n\tresetOpacity: {\n\t\topacity: 1,\n\t\tcircle: {\n\t\t\tfill: \"white\"\n\t\t},\n\t\toutline: \"grey\"\n\t},\n\treduceOpacity: {\n\t\topacity: 0.25,\n\t\toutline: \"grey\"\n\t},\n\tpoints: {\n\t\tradius: 3\n\t},\n\tpatternFills: {\n\t\twidth: 20,\n\t\theight: 20\n\t},\n\tminWidth: 150,\n\twidthBreak: 600,\n\tmarginForLegendTop: 40,\n\ttitle: {\n\t\tmarginBottom: 24\n\t},\n\tmagicRatio: 0.7,\n\tmagicMoreForY2Axis: 70,\n\taxisCharts: {\n\t\tminWidth: 100,\n\t\tminHeight: 200\n\t}\n};\n\n/**\n * Options to render scales to spec\n */\nexport const scales = {\n\tmaxWidthOfAxisLabel: 175,\n\tmaxNumOfAxisLabelLetters: 60,\n\tyAxisAngle: -90,\n\txAxisAngle: -45,\n\tdomain: {\n\t\tcolor: \"#959595\",\n\t\tstrokeWidth: 2\n\t},\n\tdx: \"-1em\",\n\tlabel: {\n\t\tdy: \"1em\"\n\t},\n\ttick: {\n\t\tdy: \"0.5em\",\n\t\twidthAdditionY: 25,\n\t\twidthAdditionY2: 15,\n\t\theightAddition: 16,\n\t\tlineHeight: 1.1\n\t},\n\tmagicDy1: \"0.71em\",\n\tmagicY1: 9,\n\tmagicX1: -4,\n\ty: {\n\t\tnumberOfTicks: 5,\n\t\tthresholds: {\n\t\t\tcolors: {\n\t\t\t\t\"danger\": \"rgba(255, 39, 41, 0.1)\",\n\t\t\t\t\"success\": \"rgba(0, 212, 117, 0.1)\",\n\t\t\t\t\"warning\": \"rgba(255, 214, 0, 0.1)\"\n\n\t\t\t}\n\t\t}\n\t},\n\tx: {\n\t\tnumberOfTicks: 5,\n\t\tpadding: 0.2\n\t},\n\ty2: {\n\t\tnumberOfTicks: 5\n\t}\n};\n\n/**\n * Grid options\n */\nexport const grid = {\n\tstrokeColor: \"#ECEEEF\"\n};\n\n/**\n * Options for bar behaviour\n */\nexport const bars = {\n\tmouseover: {\n\t\tstrokeWidth: 4,\n\t\tstrokeOpacity: 0.5\n\t},\n\tmouseout: {\n\t\tstrokeWidth: 0,\n\t\tstrokeWidthAccessible: 2,\n\t\tstrokeOpacity: 1\n\t},\n\tdefault: {\n\t\tstrokeWidth: 2\n\t},\n\tspacing: {\n\t\tbars: 0.2,\n\t\tdatasets: 0.25\n\t},\n\tbars: {\n\t\tmaxWidth: null\n\t}\n};\n\n/**\n * Options for line behaviour\n */\nexport const lines = {\n\tpoints: {\n\t\tstrokeWidth: 4,\n\t\tminNonFilledRadius: 3,\n\t\tmouseover: {\n\t\t\tstrokeWidth: 4,\n\t\t\tstrokeOpacity: 0.5,\n\t\t\tfillOpacity: 1,\n\t\t},\n\t\tmouseout: {\n\t\t\tstrokeWidth: 0,\n\t\t\tstrokeWidthAccessible: 2,\n\t\t\tstrokeOpacity: 1\n\t\t}\n\t}\n};\n\n/**\n * Options for pie behaviour\n */\nexport const pie = {\n\tmaxWidth: 516.6,\n\tmouseover: {\n\t\tstrokeWidth: 6,\n\t\tstrokeOpacity: 0.5\n\t},\n\tmouseout: {\n\t\tstrokeWidth: 0,\n\t\tstrokeOpacity: 1\n\t},\n\tsliceLimit: 6,\n\tlabel: {\n\t\tdy: \".32em\",\n\t\tmargin: 8,\n\t\tother: \"Other\"\n\t},\n\tdefault: {\n\t\tstrokeWidth: 2\n\t}\n};\n\n/**\n * Options for donut behaviour\n */\nexport const donut = {\n\tcenterText: {\n\t\ttitle: {\n\t\t\ty: 22\n\t\t},\n\t\tbreakpoint: 175,\n\t\tmagicScaleRatio: 2.5,\n\t\tnumberFontSize: 24,\n\t\ttitleFontSize: 15\n\t}\n};\n\n/**\n * Legend configuration\n */\nexport const legend = {\n\tcountBreak: 4,\n\tfontSize: 12,\n\twrapperHeight: \"40px\",\n\twidthTolerance: 15,\n\thoverShadowSize: \"3px\",\n\thoverShadowTransparency: 0.2,\n\tmargin: {\n\t\ttop: 19\n\t},\n\tactive: {\n\t\tborderColor: false,\n\t\tborderStyle: false,\n\t\tborderWidth: false\n\t},\n\tinactive: {\n\t\tbackgroundColor: \"transparent\",\n\t\tborderStyle: \"solid\",\n\t\tborderWidth: \"2px\"\n\t},\n\titems: {\n\t\tstatus: {\n\t\t\tACTIVE: 1,\n\t\t\tDISABLED: 0\n\t\t},\n\t},\n\tbasedOn: {\n\t\tSERIES: \"series\",\n\t\tLABELS: \"labels\"\n\t}\n};\n\n/**\n * Tooltip options\n */\nexport const tooltip = {\n\twidth: 200,\n\tarrowWidth: 10,\n\tmagicXPoint2: 20,\n\tmagicTop1: 21,\n\tmagicTop2: 22,\n\tmagicLeft1: 11,\n\tmagicLeft2: 10,\n\tfadeIn: {\n\t\tduration: 250\n\t},\n\tfadeOut: {\n\t\tduration: 250\n\t},\n\tsize: {\n\t\tCOMPACT: \"compact\"\n\t}\n};\n\n/**\n * Base transition configuration\n */\nexport const transitions = {\n\tdefault: {\n\t\tduration: 750\n\t}\n};\n\n/**\n * Selectors to standardize querying parts of the chart\n */\nexport const selectors = {\n\tOUTERSVG: \"svg.chart-svg\",\n\tINNERWRAP: \"g.inner-wrap\",\n\tCHARTWRAPPER: \"div.chart-wrapper\",\n\tTOOLTIP: \"div.chart-tooltip\",\n\tLEGEND_BTN: \"li.legend-btn\",\n\tpie: {\n\t\tSLICE: \"path\"\n\t}\n};\n","// D3 Imports\nimport { select } from \"d3-selection\";\nimport { interpolateNumber } from \"d3-interpolate\";\n\nimport { PieChart } from \"./pie-chart\";\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, DonutChartOptions, ChartType } from \"./configuration\";\nimport { Tools } from \"./tools\";\n\nexport class DonutCenter {\n\tconfigs: any;\n\toldConfigs: any;\n\tdonutSVG: any;\n\n\tconstructor(configs: any) {\n\t\tif (configs) {\n\t\t\tthis.configs = configs;\n\n\t\t\t// Keep track of changes to the configs above\n\t\t\tthis.oldConfigs = Tools.merge({}, configs);\n\t\t} else {\n\t\t\tconsole.error(\"Configuration object is missing for DonutCenter\");\n\t\t}\n\t}\n\n\tdraw (innerWrap: any) {\n\t\t// Add the number shown in the center of the donut\n\t\tinnerWrap.append(\"text\")\n\t\t\t.attr(\"class\", \"donut-figure\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.text(this.configs.number.toLocaleString());\n\n\t\t// Add the label below the number in the center of the donut\n\t\tinnerWrap.append(\"text\")\n\t\t\t.attr(\"class\", \"donut-title\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.attr(\"y\", Configuration.donut.centerText.title.y)\n\t\t\t.text(this.configs.label);\n\n\t\tthis.donutSVG = innerWrap;\n\t}\n\n\tupdate() {\n\t\tconst possiblyNewConfigs = this.configs;\n\t\t// If the configs are different from the previous update() call\n\t\tif (this.oldConfigs !== possiblyNewConfigs) {\n\t\t\tconst newNumber = this.configs.number;\n\t\t\t// Update center number\n\t\t\tthis.donutSVG.select(\"text.donut-figure\")\n\t\t\t\t.transition()\n\t\t\t\t.duration(Configuration.transitions.default.duration)\n\t\t\t\t.tween(\"text\", function() {\n\t\t\t\t\treturn donutCenterNumberTween(select(this), newNumber);\n\t\t\t\t});\n\n\t\t\t// Update center label\n\t\t\tthis.donutSVG.select(\"text.donut-title\")\n\t\t\t\t.text(this.configs.label);\n\n\t\t\t// Set the latest configs in record to keep track of future config updates\n\t\t\tthis.oldConfigs = Tools.merge({}, this.configs);\n\t\t}\n\t}\n\n\tresize(svgElement: any, actualChartSize: any) {\n\t\tconst dimensionToUseForScale = Math.min(actualChartSize.width, actualChartSize.height);\n\t\tconst { pie: pieConfigs } = Configuration;\n\t\tconst scaleRatio = dimensionToUseForScale / pieConfigs.maxWidth;\n\n\t\t// If the dimensions of the chart are smaller than a certain number (e.g. 175x175)\n\t\t// Resize the center text sizes\n\t\tif (dimensionToUseForScale < Configuration.donut.centerText.breakpoint) {\n\t\t\tsvgElement.select(\"text.donut-figure\")\n\t\t\t\t.style(\"font-size\",\n\t\t\t\t\tConfiguration.donut.centerText.numberFontSize * scaleRatio * Configuration.donut.centerText.magicScaleRatio + \"px\"\n\t\t\t\t);\n\n\t\t\tsvgElement.select(\"text.donut-title\")\n\t\t\t\t.style(\"font-size\", Configuration.donut.centerText.titleFontSize * scaleRatio * Configuration.donut.centerText.magicScaleRatio + \"px\")\n\t\t\t\t.attr(\"y\", Configuration.donut.centerText.title.y * scaleRatio * Configuration.donut.centerText.magicScaleRatio);\n\t\t}\n\t}\n}\n\nexport class DonutChart extends PieChart {\n\tcenter: DonutCenter;\n\n\toptions: DonutChartOptions;\n\n\tconstructor(holder: Element, configs: ChartConfig<DonutChartOptions>) {\n\t\tsuper(holder, configs, ChartType.DONUT);\n\t\t// Check if the DonutCenter object is provided\n\t\t// in the chart configurations\n\t\tconst { center, centerLabel, centerNumber } = configs.options;\n\n\t\t// TODO 1.0 - Remove deprecated API\n\t\tif (center || centerLabel || centerNumber) {\n\t\t\t// Set donut center configs\n\t\t\t// And instantiate the DonutCenter object\n\t\t\tconst donutCenterConfigs = this.getSuppliedCenterConfigs();\n\t\t\tthis.center = new DonutCenter(donutCenterConfigs);\n\t\t}\n\t}\n\n\tdraw() {\n\t\tsuper.draw();\n\n\t\t// Draw the center text\n\t\tif (this.center) {\n\t\t\t// Set donut center configs\n\t\t\tthis.setCenterConfigs();\n\n\t\t\tthis.center.draw(this.innerWrap);\n\t\t}\n\t}\n\n\tresizeChart() {\n\t\tif (this.innerWrap) {\n\t\t\t// Inherit resizing logic from PieChart\n\t\t\tsuper.resizeChart();\n\n\t\t\tif (this.center) {\n\t\t\t\t// Trigger resize on DonutCenter as well\n\t\t\t\tthis.center.resize(this.innerWrap, this.getChartSize(this.container));\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate() {\n\t\tsuper.update();\n\n\t\tif (this.center) {\n\t\t\t// Set donut center configs\n\t\t\tthis.setCenterConfigs();\n\n\t\t\t// Update donut center\n\t\t\tthis.center.update();\n\t\t}\n\t}\n\n\tgetSuppliedCenterConfigs() {\n\t\t// TODO 1.0 - Remove deprecated API\n\t\tconst { center, centerLabel, centerNumber } = this.options;\n\t\tconst label = center ? center.label : centerLabel;\n\t\tlet number = center ? center.number : centerNumber;\n\n\t\t// TODO 1.0 - Remove deprecated API\n\t\t// Warn developer about deprecation\n\t\tif (centerLabel || centerNumber) {\n\t\t\tconsole.warn(\n\t\t\t\t\"`centerLabel` & `centerNumber` are deprecated and will be removed in v1.0, you should switch to\",\n\t\t\t\t{\n\t\t\t\t\tcenter: {\n\t\t\t\t\t\tlabel: \"test\",\n\t\t\t\t\t\tnumber: 10\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\t// If a number for donut center has not been provided\n\t\t// Use the sum of datapoints\n\t\tif (!number && this.displayData) {\n\t\t\tconst sumOfDatapoints = this.displayData.datasets[0].data.reduce((accum, currVal) => accum + currVal.value, 0);\n\t\t\tnumber = sumOfDatapoints;\n\t\t}\n\n\t\treturn {\n\t\t\tlabel,\n\t\t\tnumber\n\t\t};\n\t}\n\n\tsetCenterConfigs() {\n\t\tthis.center.configs = this.getSuppliedCenterConfigs();\n\t}\n}\n\nfunction donutCenterNumberTween(d3Ref, newNumber: number) {\n\t// Remove commas from the current value string, and convert to an int\n\tconst currentValue = parseInt(d3Ref.text().replace(/[, ]+/g, \"\"), 10);\n\tconst i = interpolateNumber(currentValue, newNumber);\n\n\tconst formatInterpolatedValue = number => Math.floor(number).toLocaleString();\n\n\treturn t => {\n\t\td3Ref.text(formatInterpolatedValue(i(t)));\n\t};\n}\n","require(\"./polyfills\");\n\nimport { BaseChart } from \"./base-chart\";\nimport { BaseAxisChart } from \"./base-axis-chart\";\n\nimport { PieChart } from \"./pie-chart\";\nimport { DonutChart, DonutCenter } from \"./donut-chart\";\nimport { BarChart } from \"./bar-chart\";\nimport { LineChart } from \"./line-chart\";\nimport { ComboChart } from \"./combo-chart\";\nimport { ScatterChart } from \"./scatter-chart\";\n\nimport * as colorPalettes from \"./services/colorPalettes\";\n// TODO 1.0 - Remove deprecated API\nconst defaultColors = colorPalettes.DEFAULT;\n\nexport {\n\tdefaultColors,\n\tcolorPalettes,\n\tBaseChart,\n\tBaseAxisChart,\n\tPieChart,\n\tDonutChart,\n\tDonutCenter,\n\tBarChart,\n\tLineChart,\n\tComboChart,\n\tScatterChart\n};\n","// D3 Imports\nimport { select, selectAll, mouse } from \"d3-selection\";\nimport { line } from \"d3-shape\";\n\nimport { ScatterChart } from \"./scatter-chart\";\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, LineChartOptions, ChartType } from \"./configuration\";\n\nimport { getD3Curve } from \"./services/curves\";\nimport { Tools } from \"./tools\";\n\nexport class LineChart extends ScatterChart {\n\tlineGenerator: any;\n\n\toptions: LineChartOptions;\n\n\tconstructor(holder: Element, configs: ChartConfig<LineChartOptions>) {\n\t\tsuper(holder, configs);\n\n\t\t// initialize options\n\t\tif (configs.options) {\n\t\t\tthis.options = Tools.merge({}, Configuration.options.LINE, configs.options);\n\t\t} else {\n\t\t\tthis.options = Tools.merge({}, Configuration.options.LINE);\n\t\t}\n\n\t\tthis.options.type = ChartType.LINE;\n\t}\n\n\tdraw() {\n\t\tthis.innerWrap.style(\"width\", \"100%\")\n\t\t\t.style(\"height\", \"100%\");\n\n\t\tconst { line: margins } = Configuration.charts.margin;\n\n\t\tthis.innerWrap.style(\"width\", \"100%\").style(\"height\", \"100%\");\n\n\t\tthis.innerWrap.attr(\"transform\", `translate(${margins.left}, ${margins.top})`);\n\n\t\tlet curveName;\n\t\tlet curveOptions;\n\t\tthis.options.curve = this.options.curve || \"curveLinear\";\n\t\tif (typeof this.options.curve === \"string\") { // curve: 'string'\n\t\t\tcurveName = this.options.curve;\n\t\t\tcurveOptions = {};\n\t\t} else { // curve: { name: 'string' }\n\t\t\tcurveName = this.options.curve.name || \"curveLinear\";\n\t\t\tcurveOptions = this.options.curve;\n\t\t\tdelete curveOptions[\"name\"];\n\t\t}\n\n\t\t// D3 line generator function\n\t\tthis.lineGenerator = line()\n\t\t\t.x((d, i) => this.x(this.displayData.labels[i]) + this.x.step() / 2)\n\t\t\t.y((d: any) => this.y(d))\n\t\t\t.curve(getD3Curve(curveName, curveOptions));\n\n\t\tconst gLines = this.innerWrap.selectAll(\"g.lines\")\n\t\t\t.data(this.displayData.datasets)\n\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.classed(\"lines\", true);\n\n\t\tgLines.append(\"path\")\n\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.label))\n\t\t\t.datum(d => d.data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", this.lineGenerator);\n\n\t\tsuper.draw();\n\t}\n\n\tinterpolateValues(newData: any) {\n\t\tconst { line: margins } = Configuration.charts.margin;\n\t\tconst chartSize = this.getChartSize();\n\t\tconst width = chartSize.width - margins.left - margins.right;\n\t\tconst height = chartSize.height - this.getBBox(\".x.axis\").height;\n\n\t\tthis.innerWrap.selectAll(\".removed\")\n\t\t\t.remove();\n\n\t\t// Apply new data to the lines\n\t\tconst gLines = this.innerWrap.selectAll(\"g.lines\")\n\t\t\t.data(newData.datasets);\n\n\t\tthis.updateElements(true, gLines);\n\n\t\t// Add lines that need to be added now\n\t\tconst addedLineGroups = gLines.enter()\n\t\t\t.append(\"g\")\n\t\t\t.classed(\"lines\", true);\n\n\t\taddedLineGroups.append(\"path\")\n\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.label))\n\t\t\t.datum(d => d.data)\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", this.lineGenerator);\n\n\t\t// Remove lines that are no longer needed\n\t\tgLines.exit()\n\t\t\t.classed(\"removed\", true) // mark this element with \"removed\" class so it isn't reused\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\tsuper.interpolateValues(newData);\n\t}\n\n\tupdateElements(animate: boolean, gLines?: any) {\n\t\tif (!gLines) {\n\t\t\tgLines = this.innerWrap.selectAll(\"g.lines\");\n\t\t}\n\n\t\tconst transitionToUse = animate ? this.getFillTransition() : this.getInstantTransition();\n\t\tconst self = this;\n\t\tgLines.selectAll(\"path.line\")\n\t\t\t.datum(function(d) {\n\t\t\t\tconst parentDatum = select(this.parentNode).datum() as any;\n\n\t\t\t\treturn parentDatum.data;\n\t\t\t})\n\t\t\t.transition(transitionToUse)\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.attr(\"stroke\", function(d) {\n\t\t\t\tconst parentDatum = select(this.parentNode).datum() as any;\n\t\t\t\treturn self.getStrokeColor(parentDatum.label);\n\t\t\t})\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", this.lineGenerator);\n\n\t\tsuper.updateElements(animate);\n\t}\n}\n","// D3 Imports\nimport { select } from \"d3-selection\";\nimport { scaleOrdinal } from \"d3-scale\";\nimport { pie, arc, Pie, Arc } from \"d3-shape\";\nimport { interpolate } from \"d3-interpolate\";\n\nimport { BaseChart } from \"./base-chart\";\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, PieChartOptions, ChartType, ChartData } from \"./configuration\";\nimport { Tools } from \"./tools\";\n\nexport interface PieDatum {\n\tlabel: string;\n\tvalue: number;\n\titems?: Array<PieDatum>;\n}\n\nexport interface PieDataSet extends Configuration.DataSet {\n\tdata: Array<PieDatum>;\n}\n\nexport interface PieData {\n\tlabels: Array<string>;\n\tdatasets: Array<PieDataSet>;\n}\n\nexport class PieChart extends BaseChart {\n\tpie: Pie<PieChart, any>;\n\tarc: Arc<PieChart, any>;\n\tpath: any;\n\n\toptions: PieChartOptions;\n\n\tconstructor(holder: Element, configs: ChartConfig<PieChartOptions>, type: ChartType.PIE | ChartType.DONUT = ChartType.PIE) {\n\t\tsuper(holder, configs);\n\n\t\tthis.options.type = type;\n\n\t\t// Assign colors to each slice using their label\n\t\tthis.colorScale = scaleOrdinal(this.options.colors);\n\t}\n\n\t// Sort data by value (descending)\n\t// Cap number of slices at a specific number, and group the remaining items into the label \"Other\"\n\tdataProcessor(dataObject: ChartData): PieData {\n\t\t// TODO - Support multiple datasets\n\t\tif (dataObject.datasets.length > 1) {\n\t\t\tconsole.warn(`Currently the Pie & Donut charts support a single dataset,\n\t\t\t\tyou appear to have more than that. Will only use your first provided dataset.`);\n\t\t}\n\n\t\t// Check for duplicate keys in the data\n\t\tconst duplicates = Tools.getDuplicateValues(dataObject.labels);\n\t\tif (duplicates.length > 0) {\n\t\t\tconsole.error(`${Tools.capitalizeFirstLetter(this.options.type)} Chart - You have duplicate keys`, duplicates);\n\t\t}\n\n\t\t// TODO - Support multiple datasets\n\t\t// let sortedData = data.datasets[0];\n\t\tconst dataList: Array<any> = dataObject.datasets[0].data.map((datum, i) => ({\n\t\t\tlabel: dataObject.labels[i],\n\t\t\tvalue: datum,\n\t\t\t// datasetLabel: data.datasets[0].label\n\t\t}));\n\n\t\t// Sort data by value\n\t\tlet sortedData = dataList.sort((a, b) => b.value - a.value);\n\n\t\t// Keep a certain number of slices, and add an \"Other\" slice for the rest\n\t\tconst { sliceLimit: stopAt } = Configuration.pie;\n\t\tconst rest = sortedData.slice(stopAt);\n\t\tconst restAccumulatedValue = rest.reduce((accum, item) => accum + item.value, 0);\n\n\t\tconst otherLabelIndex = sortedData.findIndex(dataPoint => dataPoint.label === \"Other\");\n\t\tif (otherLabelIndex !== -1) {\n\t\t\tsortedData.push(sortedData.splice(otherLabelIndex, 1)[0]);\n\t\t} else if (rest.length > 0) {\n\t\t\tsortedData = sortedData.slice(0, stopAt)\n\t\t\t\t.concat([{\n\t\t\t\t\tlabel: Configuration.pie.label.other,\n\t\t\t\t\tvalue: restAccumulatedValue,\n\t\t\t\t\titems: rest\n\t\t\t\t}]);\n\t\t}\n\n\t\treturn {\n\t\t\t// Sort labels based on the order made above\n\t\t\tlabels: sortedData.map((datum, i) => datum.label),\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\t// copy all the relevant properties\n\t\t\t\t\tbackgroundColors: dataObject.datasets[0].backgroundColors,\n\t\t\t\t\tchartType: dataObject.datasets[0].chartType,\n\t\t\t\t\tlabel: dataObject.datasets[0].label,\n\t\t\t\t\t// add our sorted data\n\t\t\t\t\tdata: sortedData\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t}\n\n\t// If there isn't a chart already drawn in the container\n\t// This function is called and will do that\n\tinitialDraw() {\n\t\tthis.setSVG();\n\n\t\t// Add legend\n\t\tthis.addOrUpdateLegend();\n\n\t\t// Draw slices & labels\n\t\tthis.draw();\n\n\t\t// Add event listeners to slices\n\t\tthis.addDataPointEventListener();\n\t}\n\n\tdraw() {\n\t\tconst dataList = this.displayData.datasets[0].data;\n\n\t\tconst chartSize = this.getChartSize(this.container);\n\t\tconst diameter = Math.min(chartSize.width, chartSize.height);\n\t\tconst radius: number = diameter / 2;\n\n\t\tselect(this.holder).select(\"svg\")\n\t\t\t.attr(\"width\", `${diameter}px`)\n\t\t\t.attr(\"height\", `${diameter}px`);\n\n\t\tthis.innerWrap\n\t\t\t.attr(\"transform\", `translate(${radius},${radius})`)\n\t\t\t.attr(\"width\", `${diameter}px`)\n\t\t\t.attr(\"height\", `${diameter}px`)\n\t\t\t.attr(\"preserveAspectRatio\", \"xMinYMin\");\n\n\t\t// Compute the correct inner & outer radius\n\t\tconst marginedRadius = this.computeRadius();\n\t\tthis.arc = arc()\n\t\t\t\t.innerRadius(this.options.type === \"donut\" ? (marginedRadius * (3 / 4)) : 2)\n\t\t\t\t.outerRadius(marginedRadius);\n\n\t\tthis.pie = pie()\n\t\t\t.value((d: any) => d.value)\n\t\t\t.sort(null)\n\t\t\t.padAngle(0.007);\n\n\t\t// Draw the slices\n\t\tthis.path = this.innerWrap.selectAll(\"path\")\n\t\t\t.data(this.pie(dataList))\n\t\t\t.enter()\n\t\t\t.append(\"path\")\n\t\t\t.attr(\"d\", this.arc)\n\t\t\t.attr(\"fill\", d => this.getFillColor(this.displayData.datasets[0].label, d.data.label, d.data.value)) // Support multiple datasets\n\t\t\t.attr(\"stroke\", d => this.getStrokeColor(this.displayData.datasets[0].label, d.data.label, d.data.value))\n\t\t\t.attr(\"stroke-width\", Configuration.pie.default.strokeWidth)\n\t\t\t.attr(\"stroke-opacity\", d => this.options.accessibility ? 1 : 0)\n\t\t\t.each(function(d) { this._current = d; });\n\n\t\t// Draw the slice labels\n\t\tconst self = this;\n\t\tthis.innerWrap\n\t\t\t.selectAll(\"text.chart-label\")\n\t\t\t.data(this.pie(dataList), (d: any) => d.data.label)\n\t\t\t.enter()\n\t\t\t.append(\"text\")\n\t\t\t.classed(\"chart-label\", true)\n\t\t\t.attr(\"dy\", Configuration.pie.label.dy)\n\t\t\t.style(\"text-anchor\", \"middle\")\n\t\t\t.text(d => Tools.convertValueToPercentage(d.data.value, dataList))\n\t\t\t.attr(\"transform\", function (d) { return self.deriveTransformString(this, d, radius); });\n\n\t\t// Hide overlay\n\t\tthis.chartOverlay.hide();\n\t}\n\n\t// Interpolated transitions for older data points to reflect the new data changes\n\tinterpolateValues(newData: any) {\n\t\tconst dataList = newData.datasets[0].data;\n\n\t\t// Apply the new data to the slices, and interpolate them\n\t\tconst self = this;\n\t\tconst path = this.innerWrap.selectAll(\"path\").data(this.pie(dataList));\n\n\t\t// Update slices\n\t\tpath\n\t\t\t.transition()\n\t\t\t.duration(0)\n\t\t\t.attr(\"stroke\", d => this.getStrokeColor(this.displayData.datasets[0].label, d.data.label, d.data.value))\n\t\t\t.attr(\"stroke-width\", Configuration.pie.default.strokeWidth)\n\t\t\t.attr(\"stroke-opacity\", d => this.options.accessibility ? 1 : 0)\n\t\t\t.transition()\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.duration(Configuration.transitions.default.duration)\n\t\t\t.attr(\"fill\", d => this.getFillColor(this.displayData.datasets[0].label, d.data.label, d.data.value))\n\t\t\t.attrTween(\"d\", function (a) {\n\t\t\t\treturn arcTween.bind(this)(a, self.arc);\n\t\t\t});\n\n\t\tpath.enter()\n\t\t\t.append(\"path\")\n\t\t\t.attr(\"d\", this.arc)\n\t\t\t.transition()\n\t\t\t.duration(0)\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.attr(\"stroke\", d => this.getStrokeColor(this.displayData.datasets[0].label, d.data.label, d.data.value))\n\t\t\t.attr(\"stroke-width\", Configuration.pie.default.strokeWidth)\n\t\t\t.attr(\"stroke-opacity\", d => this.options.accessibility ? 1 : 0)\n\t\t\t.transition()\n\t\t\t.duration(Configuration.transitions.default.duration)\n\t\t\t.attr(\"fill\", d => this.getFillColor(this.displayData.datasets[0].label, d.data.label, d.data.value))\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.attrTween(\"d\", function (a) {\n\t\t\t\treturn arcTween.bind(this)(a, self.arc);\n\t\t\t});\n\n\t\tpath\n\t\t\t.exit()\n\t\t\t.attr(\"d\", this.arc)\n\t\t\t.transition()\n\t\t\t.duration(Configuration.transitions.default.duration)\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\t// Fade out all text labels\n\t\tthis.innerWrap.selectAll(\"text.chart-label\")\n\t\t\t.transition()\n\t\t\t.duration(Configuration.transitions.default.duration / 2)\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.on(\"end\", function(d) {\n\t\t\t\tselect(this)\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(Configuration.transitions.default.duration / 2)\n\t\t\t\t\t.style(\"opacity\", 1);\n\t\t\t});\n\n\t\t// Move text labels to their new location, and fade them in again\n\t\tconst radius = this.computeRadius();\n\t\tsetTimeout(() => {\n\t\t\tconst text = this.innerWrap.selectAll(\"text.chart-label\")\n\t\t\t\t.data(this.pie(dataList), d => d.label );\n\n\t\t\ttext\n\t\t\t\t.enter()\n\t\t\t\t.append(\"text\")\n\t\t\t\t.classed(\"chart-label\", true)\n\t\t\t\t.attr(\"dy\", Configuration.pie.label.dy)\n\t\t\t\t.style(\"text-anchor\", \"middle\")\n\t\t\t\t.text(d => Tools.convertValueToPercentage(d.data.value, dataList))\n\t\t\t\t.attr(\"transform\", function (d) { return self.deriveTransformString(this, d, radius); })\n\t\t\t\t.style(\"opacity\", 0)\n\t\t\t\t.transition()\n\t\t\t\t.duration(Configuration.transitions.default.duration / 2)\n\t\t\t\t.style(\"opacity\", 1);\n\n\t\t\ttext\n\t\t\t\t.style(\"text-anchor\", \"middle\")\n\t\t\t\t.text(d => Tools.convertValueToPercentage(d.data.value, dataList))\n\t\t\t\t.attr(\"transform\", function (d) { return self.deriveTransformString(this, d, radius); })\n\t\t\t\t.transition()\n\t\t\t\t.duration(Configuration.transitions.default.duration / 2)\n\t\t\t\t.style(\"opacity\", 1);\n\n\t\t\ttext\n\t\t\t\t.exit()\n\t\t\t\t.remove();\n\t\t}, Configuration.transitions.default.duration / 2);\n\n\t\t// Add slice hover actions, and clear any slice borders present\n\t\tthis.addDataPointEventListener();\n\t\tthis.reduceOpacity();\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\t}\n\n\t// TODO - Possible inherits from base-chart\n\treduceOpacity(exception?: any) {\n\t\tif (exception) {\n\t\t\t// this.innerWrap.selectAll(\"path\").attr(\"fill-opacity\", Configuration.charts.reduceOpacity.opacity);\n\n\t\t\t// Fade everything out except for this element\n\t\t\tselect(exception).attr(\"fill-opacity\", false);\n\t\t\tselect(exception).attr(\"stroke-opacity\", Configuration.charts.reduceOpacity.opacity);\n\t\t\tselect(exception).attr(\"fill\", (d: any) => this.getFillColor(this.displayData.datasets[0].label, d.data.label, d.data.value));\n\t\t}\n\t}\n\n\tgetTooltipHTML = d => this.generateTooltipHTML(d.data.label, d.value.toLocaleString());\n\n\t// TODO - Refactor\n\taddDataPointEventListener() {\n\t\tconst self = this;\n\t\tconst { accessibility } = this.options;\n\n\t\tthis.innerWrap.selectAll(\"path\")\n\t\t\t.on(\"click\", d => self.dispatchEvent(\"pie-slice-onClick\", d))\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t\t\tconst sliceElement = select(this);\n\t\t\t\tTools.moveToFront(sliceElement);\n\n\t\t\t\tsliceElement.attr(\"stroke-width\", Configuration.pie.mouseover.strokeWidth)\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.pie.mouseover.strokeOpacity)\n\t\t\t\t\t.attr(\"stroke\", self.getStrokeColor(self.displayData.datasets[0].label, d.data.label, d.data.value));\n\n\t\t\t\tself.showTooltip(d);\n\t\t\t\tself.reduceOpacity(this);\n\t\t\t})\n\t\t\t.on(\"mousemove\", d => self.tooltip.positionTooltip())\n\t\t\t.on(\"mouseout\", function(d) {\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", accessibility ? Configuration.pie.default.strokeWidth : Configuration.pie.mouseout.strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", accessibility ? self.getStrokeColor(self.displayData.datasets[0].label, d.data.label, d.data.value) : \"none\")\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.pie.mouseout.strokeOpacity);\n\n\t\t\t\tself.hideTooltip();\n\t\t\t});\n\t}\n\n\tupdate(newData?: any) {\n\t\tconst oldData = Tools.clone(this.displayData);\n\t\tconst activeLegendItems = this.getActiveLegendItems();\n\n\t\t// TODO - Support multiple datasets\n\t\tconst newDisplayData = Object.assign({}, oldData);\n\t\tnewDisplayData.datasets[0].data = oldData.datasets[0].data.filter(dataPoint => activeLegendItems.indexOf(dataPoint.label) !== -1);\n\n\t\tnewDisplayData.labels = newDisplayData.datasets[0].data.map(datum => datum.label);\n\n\t\tthis.interpolateValues(newDisplayData);\n\t}\n\n\tresizeChart() {\n\t\tconst chartSize: any = this.getChartSize(this.container);\n\t\tconst dimensionToUseForScale = Math.min(chartSize.width, chartSize.height);\n\t\tconst radius: number = this.computeRadius();\n\n\t\t// Resize the SVG\n\t\tselect(this.holder).select(\"svg\")\n\t\t\t\t.attr(\"width\", `${dimensionToUseForScale}px`)\n\t\t\t\t.attr(\"height\", `${dimensionToUseForScale}px`);\n\t\tthis.innerWrap\n\t\t\t.style(\"transform\", `translate(${radius}px,${radius}px)`);\n\n\t\t// Resize the arc\n\t\tthis.arc = arc()\n\t\t\t.innerRadius(this.options.type === \"donut\" ? (radius * (3 / 4)) : 2)\n\t\t\t.outerRadius(radius);\n\n\t\tthis.innerWrap.selectAll(\"path\")\n\t\t\t.attr(\"d\", this.arc);\n\n\t\tconst self = this;\n\t\tthis.innerWrap\n\t\t\t.selectAll(\"text.chart-label\")\n\t\t\t.attr(\"transform\", function (d) { return self.deriveTransformString(this, d, radius); });\n\n\t\t// Reposition the legend\n\t\tthis.positionLegend();\n\t}\n\n\t// Helper functions\n\tprivate computeRadius() {\n\t\tconst chartSize: any = this.getChartSize(this.container);\n\t\tconst radius: number = Math.min(chartSize.width, chartSize.height) / 2;\n\n\t\treturn radius;\n\t}\n\n\t/**\n\t * Return the css transform string to be used for the slice\n\t *\n\t * @private\n\t * @param {any} d - d3 data item for slice\n\t * @param {any} radius - computed radius of the chart\n\t * @returns final transform string to be applied to the <text> element\n\t * @memberof PieChart\n\t */\n\tprivate deriveTransformString(element, d, radius) {\n\t\tconst textLength = element.getComputedTextLength();\n\t\tconst textOffsetX = textLength / 2;\n\t\tconst textOffsetY = parseFloat(getComputedStyle(element).fontSize) / 2;\n\n\t\tconst marginedRadius = radius + Configuration.pie.label.margin;\n\n\t\tconst theta = ((d.endAngle - d.startAngle) / 2) + d.startAngle;\n\t\tconst xPosition = (textOffsetX + marginedRadius) * Math.sin(theta);\n\t\tconst yPosition = (textOffsetY + marginedRadius) * -Math.cos(theta);\n\n\t\treturn `translate(${xPosition}, ${yPosition})`;\n\t}\n}\n\n// d3 Tween functions\nfunction arcTween(a, arcFunc) {\n\tconst i = interpolate(this._current, a);\n\n\treturn t => {\n\t\tthis._current = i(t);\n\n\t\treturn arcFunc(this._current);\n\t};\n}\n","(function() {\n\tif (typeof window[\"CustomEvent\"] === \"function\") { return false; }\n\n\tfunction CustomEvent(event, params) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\tconst evt = document.createEvent(\"CustomEvent\");\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window[\"Event\"].prototype;\n\twindow[\"CustomEvent\"] = CustomEvent;\n})();\n\n// Avoid multiple instances of babel-polyfill\nfunction idempotentBabelPolyfill() {\n\tif (!global[\"_babelPolyfill\"] && (typeof window === \"undefined\" || !window[\"_babelPolyfill\"])) {\n\t\treturn require(\"babel-polyfill\");\n\t}\n\n\treturn null;\n}\n\nidempotentBabelPolyfill();\n","// D3 Imports\nimport { select, mouse } from \"d3-selection\";\n\nimport { BaseAxisChart } from \"./base-axis-chart\";\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, ScatterChartOptions, ChartType } from \"./configuration\";\nimport { Tools } from \"./tools\";\n\nexport class ScatterChart extends BaseAxisChart {\n\toptions: ScatterChartOptions = Tools.merge({}, Configuration.options.SCATTER);\n\n\tconstructor(holder: Element, configs: ChartConfig<ScatterChartOptions>) {\n\t\tsuper(holder, configs);\n\n\t\tthis.options.type = ChartType.SCATTER;\n\t}\n\n\tdraw() {\n\t\tthis.innerWrap.style(\"width\", \"100%\")\n\t\t\t.style(\"height\", \"100%\");\n\n\t\tconst { line: margins } = Configuration.charts.margin;\n\n\t\tthis.innerWrap.style(\"width\", \"100%\").style(\"height\", \"100%\");\n\n\t\tthis.innerWrap.attr(\"transform\", `translate(${margins.left}, ${margins.top})`);\n\n\t\tconst gDots = this.innerWrap.selectAll(\"g.dots\")\n\t\t\t.data(this.displayData.datasets)\n\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.classed(\"dots\", true);\n\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tgDots.selectAll(\"circle.dot\")\n\t\t\t.data((d, i) => this.addLabelsToDataPoints(d, i))\n\t\t\t.enter()\n\t\t\t\t.append(\"circle\")\n\t\t\t\t.attr(\"class\", \"dot\")\n\t\t\t\t.attr(\"cx\", d => this.x(d.label) + this.x.step() / 2)\n\t\t\t\t.attr(\"cy\", d => this.y(d.value))\n\t\t\t\t.attr(\"r\", circleRadius)\n\t\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d))\n\t\t\t\t.attr(\"fill-opacity\", d => this.getCircleFillOpacity())\n\t\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.datasetLabel, d.label, d.value));\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the load event\n\t\tthis.dispatchEvent(\"load\");\n\t}\n\n\tgetLegendType() {\n\t\treturn Configuration.legend.basedOn.SERIES;\n\t}\n\n\taddLabelsToDataPoints(d, index) {\n\t\tconst { labels } = this.displayData;\n\n\t\treturn d.data.map((datum, i) => ({\n\t\t\tlabel: labels[i],\n\t\t\tdatasetLabel: d.label,\n\t\t\tvalue: datum\n\t\t}));\n\t}\n\n\tgetCircleRadius() {\n\t\treturn this.options.points.radius || Configuration.charts.points.radius;\n\t}\n\n\tgetCircleFill(radius, d) {\n\t\t// If the radius of the point is smaller than minimum\n\t\t// Or the chart is only a scatter chart\n\t\t// And not a line chart for instance\n\t\tconst circleShouldBeFilled = radius < Configuration.lines.points.minNonFilledRadius || this.constructor === ScatterChart;\n\t\tif (circleShouldBeFilled) {\n\t\t\treturn this.getStrokeColor(d.datasetLabel, d.label, d.value);\n\t\t}\n\t\t// returns null which discards any attribute allocations using return value\n\t\treturn null;\n\t}\n\n\tgetCircleFillOpacity() {\n\t\t// If the chart is only a scatter chart\n\t\t// And not a line chart for instance\n\t\tif (this.constructor === ScatterChart) {\n\t\t\treturn Configuration.options.SCATTER.points.fillOpacity;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tinterpolateValues(newData: any) {\n\t\tconst { line: margins } = Configuration.charts.margin;\n\t\tconst chartSize = this.getChartSize();\n\t\tconst width = chartSize.width - margins.left - margins.right;\n\t\tconst height = chartSize.height - this.getBBox(\".x.axis\").height;\n\n\t\t// Apply new data to the lines\n\t\tconst gDots = this.innerWrap.selectAll(\"g.dots\")\n\t\t\t.data(newData.datasets);\n\n\t\tthis.updateElements(true, gDots);\n\n\t\t// Add lines that need to be added now\n\t\tconst addedDotGroups = gDots.enter()\n\t\t\t.append(\"g\")\n\t\t\t.classed(\"dots\", true);\n\n\t\t// Add line circles\n\t\tconst circleRadius = this.getCircleRadius();\n\t\taddedDotGroups.selectAll(\"circle.dot\")\n\t\t\t.data((d, i) => this.addLabelsToDataPoints(d, i))\n\t\t\t.enter()\n\t\t\t\t.append(\"circle\")\n\t\t\t\t.attr(\"class\", \"dot\")\n\t\t\t\t.attr(\"cx\", (d, i) => this.x(d.label) + this.x.step() / 2)\n\t\t\t\t.attr(\"cy\", (d: any) => this.y(d.value))\n\t\t\t\t.attr(\"r\", circleRadius)\n\t\t\t\t.style(\"opacity\", 0)\n\t\t\t\t.transition(this.getDefaultTransition())\n\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d))\n\t\t\t\t.attr(\"fill-opacity\", d => this.getCircleFillOpacity())\n\t\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.datasetLabel, d.label, d.value));\n\n\t\t// Remove dots that are no longer needed\n\t\tgDots.exit()\n\t\t\t.classed(\"removed\", true)\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\t// Add slice hover actions, and clear any slice borders present\n\t\tthis.addDataPointEventListener();\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the update event\n\t\tthis.dispatchEvent(\"update\");\n\t}\n\n\tupdateElements(animate: boolean, gDots?: any) {\n\t\tif (!gDots) {\n\t\t\tgDots = this.innerWrap.selectAll(\"g.dots\");\n\t\t}\n\n\t\tconst transitionToUse = animate ? this.getFillTransition() : this.getInstantTransition();\n\t\tconst self = this;\n\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tgDots.selectAll(\"circle.dot\")\n\t\t\t.data(function(d, i) {\n\t\t\t\tconst parentDatum = select(this).datum() as any;\n\n\t\t\t\treturn self.addLabelsToDataPoints(parentDatum, i);\n\t\t\t})\n\t\t\t.transition(transitionToUse)\n\t\t\t.attr(\"cx\", d => this.x(d.label) + this.x.step() / 2)\n\t\t\t.attr(\"cy\", d => this.y(d.value))\n\t\t\t.attr(\"r\", circleRadius)\n\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d))\n\t\t\t.attr(\"stroke\", d => this.getStrokeColor(d.datasetLabel, d.label, d.value));\n\t}\n\n\tresizeChart() {\n\t\tconst chartSize: any = this.getChartSize(this.container);\n\t\tconst dimensionToUseForScale = Math.min(chartSize.width, chartSize.height);\n\n\t\t// Resize the SVG\n\t\tselect(this.holder).select(\"svg\")\n\t\t\t\t.attr(\"width\", `${dimensionToUseForScale}px`)\n\t\t\t\t.attr(\"height\", `${dimensionToUseForScale}px`);\n\n\t\tthis.updateXandYGrid(true);\n\t\t// Scale out the domains\n\t\tthis.setXScale();\n\t\tthis.setYScale();\n\n\t\t// Set the x & y axis as well as their labels\n\t\tthis.setXAxis(true);\n\t\tthis.setYAxis(true);\n\n\t\tthis.updateElements(false, null);\n\n\t\tsuper.resizeChart();\n\t}\n\n\tsetXScale () {\n\t\tsuper.setXScale();\n\n\t\tthis.x.padding(0); // override BaseAxisChart padding so points aren't misaligned by a few pixels.\n\t}\n\n\tresetOpacity() {\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tthis.innerWrap.selectAll(\"circle\")\n\t\t\t.attr(\"stroke-opacity\", Configuration.charts.resetOpacity.opacity)\n\t\t\t.attr(\"fill\", d => this.getCircleFill(circleRadius, d));\n\t}\n\n\treduceOpacity(exception) {\n\t\tconst circleRadius = this.getCircleRadius();\n\t\tselect(exception).attr(\"fill-opacity\", this.getCircleFillOpacity());\n\t\tselect(exception).attr(\"stroke-opacity\", Configuration.charts.reduceOpacity.opacity);\n\t\tselect(exception).attr(\"fill\", (d: any) => this.getCircleFill(circleRadius, d));\n\t}\n\n\taddDataPointEventListener() {\n\t\tconst self = this;\n\t\tconst { accessibility } = this.options;\n\t\tconst circleRadius = this.getCircleRadius();\n\n\t\tthis.svg.selectAll(\"circle.dot\")\n\t\t\t.on(\"click\", d => self.dispatchEvent(\"line-onClick\", d))\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", Configuration.lines.points.mouseover.strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", self.colorScale[d.datasetLabel](d.label))\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.lines.points.mouseover.strokeOpacity)\n\t\t\t\t\t.style(\"fill\", self.colorScale[d.datasetLabel](d.label))\n\t\t\t\t\t.attr(\"fill-opacity\", Configuration.lines.points.mouseover.fillOpacity);\n\n\t\t\t\tself.showTooltip(d, this);\n\t\t\t})\n\t\t\t.on(\"mousemove\", d => self.tooltip.positionTooltip())\n\t\t\t.on(\"mouseout\", function(d) {\n\t\t\t\tconst { strokeWidth, strokeWidthAccessible } = Configuration.lines.points.mouseout;\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", accessibility ? strokeWidthAccessible : strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", self.colorScale[d.datasetLabel](d.label))\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.lines.points.mouseout.strokeOpacity)\n\t\t\t\t\t.style(\"fill\", self.getCircleFill(circleRadius, d))\n\t\t\t\t\t.attr(\"fill-opacity\", self.getCircleFillOpacity());\n\n\t\t\t\tself.hideTooltip();\n\t\t\t});\n\t}\n}\n","import colors from \"./colors\";\n\nexport const WHITE = [\n\tcolors.purple(60),\n\tcolors.teal(30),\n\tcolors.magenta(50),\n\tcolors.cyan(40),\n\tcolors.magenta(80),\n\tcolors.purple(30),\n\tcolors.cyan(80)\n];\n\nexport const WHITE_2 = [\n\tcolors.purple(60),\n\tcolors.magenta(30),\n\tcolors.teal(70),\n\tcolors.cyan(40),\n\tcolors.magenta(70),\n\tcolors.teal(30),\n\tcolors.cyan(80)\n];\n\nexport const G10 = [\n\tcolors.purple(60),\n\tcolors.teal(30),\n\tcolors.magenta(50),\n\tcolors.green(40),\n\tcolors.purple(20),\n\tcolors.teal(60),\n\tcolors.magenta(30)\n];\n\nexport const G90 = G10;\nexport const G100 = G10;\n\nexport const DEFAULT = WHITE;\n","import {\n\tcyan,\n\tgreen,\n\tmagenta,\n\tpurple,\n\tred,\n\tteal\n} from \"@carbon/colors\";\n\nconst getColor = (obj, shade) => obj[shade];\n\nexport default {\n\tcyan: shade => getColor(cyan, shade),\n\tgreen: shade => getColor(green, shade),\n\tmagenta: shade => getColor(magenta, shade),\n\tpurple: shade => getColor(purple, shade),\n\tred: shade => getColor(red, shade),\n\tteal: shade => getColor(teal, shade)\n};\n","import {\n\tcurveBasis,\n\tcurveBasisClosed,\n\tcurveBasisOpen,\n\tcurveBundle,\n\tcurveCardinal,\n\tcurveCardinalClosed,\n\tcurveCardinalOpen,\n\tcurveCatmullRom,\n\tcurveCatmullRomClosed,\n\tcurveCatmullRomOpen,\n\tcurveLinear,\n\tcurveLinearClosed,\n\tcurveMonotoneX,\n\tcurveMonotoneY,\n\tcurveNatural,\n\tcurveStep,\n\tcurveStepAfter,\n\tcurveStepBefore\n} from \"d3-shape\";\n\nconst curveTypes = {\n\t\"curveLinear\": curveLinear,\n\t\"curveLinearClosed\": curveLinearClosed,\n\t\"curveBasis\": curveBasis,\n\t\"curveBasisClosed\": curveBasisClosed,\n\t\"curveBasisOpen\": curveBasisOpen,\n\t\"curveBundle\": curveBundle,\n\t\"curveCardinal\": curveCardinal,\n\t\"curveCardinalClosed\": curveCardinalClosed,\n\t\"curveCardinalOpen\": curveCardinalOpen,\n\t\"curveCatmullRom\": curveCatmullRom,\n\t\"curveCatmullRomClosed\": curveCatmullRomClosed,\n\t\"curveCatmullRomOpen\": curveCatmullRomOpen,\n\t\"curveMonotoneX\": curveMonotoneX,\n\t\"curveMonotoneY\": curveMonotoneY,\n\t\"curveNatural\": curveNatural,\n\t\"curveStep\": curveStep,\n\t\"curveStepAfter\": curveStepAfter,\n\t\"curveStepBefore\": curveStepBefore\n};\n\nexport const getD3Curve = (curveName = \"curveLinear\", curveOptions = {}) => {\n\tif (curveTypes[curveName]) {\n\t\tlet curve = curveTypes[curveName];\n\t\tObject.keys(curveOptions).forEach(optionName => {\n\t\t\tif (curve[optionName]) {\n\t\t\t\tcurve = curve[optionName](curveOptions[optionName]);\n\t\t\t}\n\t\t});\n\t\treturn curve;\n\t}\n\treturn null;\n};\n","// D3 Imports\nimport { select } from \"d3-selection\";\n\nimport PATTERN_SVGS from \"../assets/patterns/index\";\nimport * as Configuration from \"../configuration\";\n\nconst selectors = {\n\tPATTERNS_CONTAINER: \"carbon-charts-patterns\"\n};\n\n// Helper functions\nconst trimSVG = (htmlString: string) => {\n\t// Remove the CSS style block\n\tconst htmlBeforeStyleBlock = htmlString.substring(0, htmlString.indexOf(\"<style type=\\\"text/css\\\">\"));\n\tconst htmlAfterStyleBlock = htmlString.substring(htmlString.indexOf(\"</style>\") + \"</style>\".length);\n\n\thtmlString = htmlBeforeStyleBlock + htmlAfterStyleBlock;\n\n\t// Remove Adobe comments\n\thtmlString = htmlString.replace(/<!--[\\s\\S]*?-->/g, \"\");\n\n\treturn htmlString;\n};\n\nexport default class PatternsService {\n\tcontainer: any;\n\n\tpatternAccum = 0;\n\tidAccum = 0;\n\n\tpatternURLs = {};\n\n\tconstructor() {\n\t\tthis.setDiv();\n\t}\n\n\t/**\n\t * Sets the container div for pattern SVGs in DOM\n\t *\n\t * @memberof PatternsService\n\t */\n\tsetDiv() {\n\t\tthis.container = document.getElementById(selectors.PATTERNS_CONTAINER);\n\t\tif (!this.container) {\n\t\t\tconst div = document.createElement(\"div\");\n\t\t\tdiv.id = selectors.PATTERNS_CONTAINER;\n\n\t\t\tthis.container = document.body.appendChild(div);\n\t\t}\n\t}\n\n\t/**\n\t * Adds all the pattern SVGs to the container div, applying a unique ID to each one\n\t *\n\t * @memberof PatternsService\n\t */\n\taddPatternSVGs(d: any, colorScale: any, chartContainerID: string, legendType: string) {\n\t\tselect(this.container)\n\t\t\t.style(\"display\", \"table\")\n\t\t\t.style(\"max-height\", 0);\n\n\t\td.datasets.forEach(dataset => {\n\t\t\tlet datasetPattern: string;\n\n\t\t\tdataset.data.forEach((dataPoint, i) => {\n\t\t\t\tconst index = i + 1;\n\t\t\t\tconst id = ++this.idAccum;\n\n\t\t\t\tif (!datasetPattern || legendType === Configuration.legend.basedOn.LABELS) {\n\t\t\t\t\tdatasetPattern = PATTERN_SVGS[this.patternAccum++].default;\n\t\t\t\t}\n\n\t\t\t\t// Create SVG container div\n\t\t\t\tconst svgContainer = document.createElement(\"div\");\n\t\t\t\tsvgContainer.id = `carbon-${chartContainerID}-pattern-container-${id}`;\n\t\t\t\tsvgContainer.innerHTML = trimSVG(datasetPattern);\n\n\t\t\t\t// Apply id to the svg element\n\t\t\t\tconst mountedSVG = svgContainer.querySelector(\"svg\");\n\t\t\t\tmountedSVG.id = `carbon-${chartContainerID}-pattern-${id}-svg`;\n\n\t\t\t\t// Apply id to the pattern element\n\t\t\t\tconst patternElement = mountedSVG.querySelector(\"pattern\");\n\t\t\t\tpatternElement.id = `carbon-${chartContainerID}-pattern-${id}`;\n\n\t\t\t\t// Remove all IDs to avoid duplicate IDs (accessibility violation)\n\t\t\t\tmountedSVG.querySelector(\"g\").removeAttribute(\"id\");\n\n\t\t\t\t// Apply fills to everything\n\t\t\t\tconst allElementsInsideSVG = Array.prototype.slice.call(mountedSVG.querySelectorAll(\"pattern g *\"));\n\t\t\t\tallElementsInsideSVG.forEach((element, elementIndex) => {\n\t\t\t\t\tif (elementIndex > 0) {\n\t\t\t\t\t\telement.style.fill = colorScale[dataset.label](d.labels[i]);\n\t\t\t\t\t\telement.style.stroke = colorScale[dataset.label](d.labels[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.style.fill = \"transparent\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove ID to avoid duplicate IDs (accessibility violation)\n\t\t\t\t\telement.removeAttribute(\"id\");\n\t\t\t\t\telement.removeAttribute(\"class\");\n\t\t\t\t});\n\n\t\t\t\tconst allRectsInsideSVG = Array.prototype.slice.call(mountedSVG.querySelectorAll(\"rect\"));\n\t\t\t\tallRectsInsideSVG.forEach(rectElement => {\n\t\t\t\t\t// Remove all IDs to avoid duplicate IDs (accessibility violation)\n\t\t\t\t\trectElement.removeAttribute(\"id\");\n\t\t\t\t});\n\n\t\t\t\t// Update pattern widths & heights\n\t\t\t\tpatternElement.setAttribute(\"width\", `${Configuration.charts.patternFills.width}`);\n\t\t\t\tpatternElement.setAttribute(\"height\", `${Configuration.charts.patternFills.height}`);\n\n\t\t\t\tthis.container.appendChild(svgContainer);\n\n\t\t\t\t// Add pattern to the list of patterns\n\t\t\t\tconst patternURL = `url(#carbon-${chartContainerID}-pattern-${id})`;\n\t\t\t\tif (this.patternURLs[dataset.label]) {\n\t\t\t\t\tthis.patternURLs[dataset.label].push(patternURL);\n\t\t\t\t} else {\n\t\t\t\t\tthis.patternURLs[dataset.label] = [patternURL];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tgetFillValues() {\n\t\treturn this.patternURLs;\n\t}\n}\n","// D3 Imports\nimport { select, mouse } from \"d3-selection\";\nimport { stack } from \"d3-shape\";\nimport { max } from \"d3-array\";\n\nimport * as Configuration from \"./configuration\";\nimport { ChartConfig, StackedBarChartOptions, ChartType } from \"./configuration\";\nimport { BaseAxisChart } from \"./base-axis-chart\";\n\n// Add datasetLabel to each piece of data\n// To be used to get the fill color\nconst addLabelsAndValueToData = (d) => {\n\tObject.keys(d).map(key => {\n\t\tif (typeof d[key] === \"object\") {\n\t\t\td[key][\"datasetLabel\"] = d.key;\n\t\t\td[key][\"label\"] = d[key].data[\"label\"];\n\t\t\td[key][\"value\"] = d[key].data[d.key];\n\t\t}\n\t});\n\n\treturn d;\n};\n\n// TODO - Cleanup & add some comments\nexport class StackedBarChart extends BaseAxisChart {\n\tconstructor(holder: Element, configs: ChartConfig<StackedBarChartOptions>) {\n\t\tsuper(holder, configs);\n\n\t\tthis.options.type = ChartType.BAR;\n\t}\n\n\tgetYMax() {\n\t\tconst { datasets, labels } = this.displayData;\n\t\tconst { scales } = this.options;\n\t\tlet yMax;\n\n\t\tif (datasets.length === 1) {\n\t\t\tyMax = max(datasets[0].data);\n\t\t} else {\n\t\t\tyMax = max(labels.map((label, i) => {\n\t\t\t\tconst correspondingValues = datasets.map(dataset => dataset.data[i]);\n\t\t\t\tconst totalValue = correspondingValues.reduce((a, b) => a + b, 0);\n\n\t\t\t\treturn totalValue;\n\t\t\t}));\n\t\t}\n\n\t\tif (scales.y.yMaxAdjuster) {\n\t\t\tyMax = scales.y.yMaxAdjuster(yMax);\n\t\t}\n\n\t\treturn yMax;\n\t}\n\n\tgetStackData() {\n\t\t// Create the stack datalist\n\t\tconst stackDataArray = this.displayData.labels.map((label, i) => {\n\t\t\tconst correspondingData = {};\n\n\t\t\tthis.displayData.datasets.forEach(dataset => {\n\t\t\t\tcorrespondingData[dataset.label] = dataset.data[i];\n\t\t\t});\n\n\t\t\tcorrespondingData[\"label\"] = label;\n\n\t\t\treturn correspondingData;\n\t\t});\n\n\t\treturn stackDataArray;\n\t}\n\n\t// currently unused, but required to match the BarChart class\n\tgetBarX(d): number { return 0; }\n\n\tdraw() {\n\t\tthis.innerWrap.style(\"width\", \"100%\")\n\t\t\t.style(\"height\", \"100%\");\n\n\t\tconst { bar: margins } = Configuration.charts.margin;\n\t\tthis.innerWrap\n\t\t\t.attr(\"transform\", `translate(${margins.left}, ${margins.top})`);\n\n\t\tconst stackDataArray = this.getStackData();\n\t\tconst stackKeys = this.displayData.datasets.map(dataset => dataset.label);\n\t\tthis.innerWrap.append(\"g\")\n\t\t\t.classed(\"bars-wrapper\", true)\n\t\t\t.selectAll(\"g\")\n\t\t\t.data(stack().keys(stackKeys)(stackDataArray))\n\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.classed(\"bars\", true)\n\t\t\t\t.selectAll(\"rect\")\n\t\t\t\t.data(d => addLabelsAndValueToData(d))\n\t\t\t\t.enter()\n\t\t\t\t\t.append(\"rect\")\n\t\t\t\t\t.classed(\"bar\", true)\n\t\t\t\t\t.attr(\"x\", d => this.x(d.data.label))\n\t\t\t\t\t.attr(\"y\", d => this.y(d[1]))\n\t\t\t\t\t.attr(\"height\", d => this.y(d[0]) - this.y(d[1]))\n\t\t\t\t\t.attr(\"width\", d => this.x.bandwidth())\n\t\t\t\t\t.attr(\"fill\", d => this.getFillColor(d.datasetLabel, d.data.label, d.data.value))\n\t\t\t\t\t.attr(\"stroke\", d => this.options.accessibility ? this.getStrokeColor(d.datasetLabel, d.label, d.value) : null)\n\t\t\t\t\t.attr(\"stroke-width\", Configuration.bars.default.strokeWidth)\n\t\t\t\t\t.attr(\"stroke-opacity\", d => this.options.accessibility ? 1 : 0);\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the load event\n\t\tthis.dispatchEvent(\"load\");\n\t}\n\n\tinterpolateValues(newData: any) {\n\t\tconst stackDataArray = this.getStackData();\n\t\tconst stackKeys = this.displayData.datasets.map(dataset => dataset.label);\n\n\t\tthis.innerWrap.selectAll(\".removed\")\n\t\t\t.remove();\n\n\t\tconst g = this.innerWrap.selectAll(\"g.bars-wrapper\")\n\t\t\t.selectAll(\"g\")\n\t\t\t.data(stack().keys(stackKeys)(stackDataArray));\n\n\t\tconst rect = g.selectAll(\"rect.bar\")\n\t\t\t.data(d => addLabelsAndValueToData(d));\n\n\t\tthis.updateElements(true, g.selectAll(\"rect.bar\"), g);\n\n\t\tconst addRect = selection => {\n\t\t\tselection.enter()\n\t\t\t\t.append(\"rect\")\n\t\t\t\t.classed(\"bar\", true)\n\t\t\t\t.attr(\"x\", d => this.x(d.data.label))\n\t\t\t\t.attr(\"y\", d => this.y(d[1]))\n\t\t\t\t.attr(\"height\", d => this.y(d[0]) - this.y(d[1]))\n\t\t\t\t.attr(\"width\", d => this.x.bandwidth())\n\t\t\t\t.attr(\"fill\", d => this.getFillColor(d.datasetLabel, d.data.label, d.data.value))\n\t\t\t\t.style(\"opacity\", 0)\n\t\t\t\t.transition(this.getFillTransition())\n\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t.attr(\"stroke\", d => this.options.accessibility ? this.getStrokeColor(d.datasetLabel, d.label, d.value) : null)\n\t\t\t\t.attr(\"stroke-width\", Configuration.bars.default.strokeWidth)\n\t\t\t\t.attr(\"stroke-opacity\", d => this.options.accessibility ? 1 : 0);\n\t\t};\n\n\t\tconst rectsToAdd = g.enter()\n\t\t\t.append(\"g\")\n\t\t\t.classed(\"bars\", true)\n\t\t\t.selectAll(\"rect\")\n\t\t\t.data(d => addLabelsAndValueToData(d));\n\n\t\taddRect(rectsToAdd);\n\t\taddRect(rect);\n\n\t\tg.exit()\n\t\t\t.classed(\"removed\", true) // mark this element with \"removed\" class so it isn't reused\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\trect.exit()\n\t\t\t.classed(\"removed\", true) // mark this element with \"removed\" class so it isn't reused\n\t\t\t.transition(this.getDefaultTransition())\n\t\t\t.style(\"opacity\", 0)\n\t\t\t.remove();\n\n\t\t// Add slice hover actions, and clear any slice borders present\n\t\tthis.addDataPointEventListener();\n\n\t\t// Hide the overlay\n\t\tthis.chartOverlay.hide();\n\n\t\t// Dispatch the update event\n\t\tthis.dispatchEvent(\"update\");\n\t}\n\n\tresizeChart() {\n\t\tconst actualChartSize: any = this.getChartSize(this.container);\n\t\tconst dimensionToUseForScale = Math.min(actualChartSize.width, actualChartSize.height);\n\n\t\t// Resize the SVG\n\t\tselect(this.holder).select(\"svg\")\n\t\t\t.attr(\"width\", `${dimensionToUseForScale}px`)\n\t\t\t.attr(\"height\", `${dimensionToUseForScale}px`);\n\n\t\tthis.updateXandYGrid(true);\n\t\t// Scale out the domains\n\t\tthis.setXScale();\n\t\tthis.setYScale();\n\n\t\t// Set the x & y axis as well as their labels\n\t\tthis.setXAxis(true);\n\t\tthis.setYAxis(true);\n\n\t\t// Apply new data to the bars\n\t\tconst g = this.innerWrap.selectAll(\"g.bars g\");\n\t\tthis.updateElements(false, null, g);\n\n\t\tsuper.resizeChart();\n\t}\n\n\tupdateElements(animate: boolean, rect?: any, g?: any) {\n\t\tif (!rect) {\n\t\t\trect = this.innerWrap.selectAll(\"rect.bar\");\n\t\t}\n\n\t\t// Update existing bars\n\t\trect\n\t\t\t.transition(animate ? this.getFillTransition() : this.getInstantTransition())\n\t\t\t.style(\"opacity\", 1)\n\t\t\t.attr(\"x\", d => this.x(d.data.label))\n\t\t\t.attr(\"y\", d => this.y(d[1]))\n\t\t\t.attr(\"height\", d => this.y(d[0]) - this.y(d[1]))\n\t\t\t.attr(\"width\", d => this.x.bandwidth())\n\t\t\t.attr(\"fill\", d => this.getFillColor(d.datasetLabel, d.data.label, d.data.value))\n\t\t\t.attr(\"stroke\", d => this.options.accessibility ? this.getStrokeColor(d.datasetLabel, d.label, d.value) : null)\n\t\t\t.attr(\"stroke-width\", Configuration.bars.default.strokeWidth)\n\t\t\t.attr(\"stroke-opacity\", d => this.options.accessibility ? 1 : 0);\n\t}\n\n\taddDataPointEventListener() {\n\t\tconst self = this;\n\t\tconst { accessibility } = this.options;\n\n\t\tthis.svg.selectAll(\"rect\")\n\t\t\t.on(\"click\", d => self.dispatchEvent(\"bar-onClick\", d))\n\t\t\t.on(\"mouseover\", function(d) {\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", Configuration.bars.mouseover.strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", self.getStrokeColor(d.datasetLabel, d.label, d.value))\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.bars.mouseover.strokeOpacity);\n\n\t\t\t\tself.showTooltip(d, this);\n\t\t\t\tself.reduceOpacity(this);\n\t\t\t})\n\t\t\t.on(\"mousemove\", d => self.tooltip.positionTooltip())\n\t\t\t.on(\"mouseout\", function(d) {\n\t\t\t\tconst { strokeWidth, strokeWidthAccessible } = Configuration.bars.mouseout;\n\t\t\t\tselect(this)\n\t\t\t\t\t.attr(\"stroke-width\", accessibility ? strokeWidthAccessible : strokeWidth)\n\t\t\t\t\t.attr(\"stroke\", accessibility ? self.getStrokeColor(d.datasetLabel, d.label, d.value) : \"none\")\n\t\t\t\t\t.attr(\"stroke-opacity\", Configuration.bars.mouseout.strokeOpacity);\n\n\t\t\t\tself.hideTooltip();\n\t\t\t});\n\t}\n}\n","// extracted by mini-css-extract-plugin","// Functions\nexport namespace Tools {\n\texport function debounce(func, wait, immediate) {\n\t\tlet timeout;\n\t\treturn function() {\n\t\t\tconst context = this, args = arguments;\n\t\t\tconst later = function() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) {\n\t\t\t\t\tfunc.apply(context, args);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) {\n\t\t\t\tfunc.apply(context, args);\n\t\t\t}\n\t\t};\n\t}\n\n\texport function addCloseBtn(tooltip, size, color?) {\n\t\tconst closeBtn = tooltip.append(\"button\");\n\t\tlet classNames = `close--${size}`;\n\t\tclassNames = color ? \" close--\" + color : classNames;\n\n\t\tconst iconHolder = document.createElement(\"span\");\n\t\ticonHolder.innerHTML = `Close`;\n\t\tcloseBtn.attr(\"class\", classNames)\n\t\t\t.attr(\"type\", \"button\")\n\t\t\t.attr(\"aria-label\", \"Close\");\n\n\t\tcloseBtn.node()\n\t\t\t.appendChild(iconHolder);\n\n\t\t\t// TODO - Finish\n\t\t\t// console.log(iconHolder);\n\t\treturn closeBtn;\n\t}\n\n\texport function clone(obj) {\n\t\treturn JSON.parse(JSON.stringify(obj));\n\t}\n\n\t// custom deep object merge\n\texport const merge = (target, ...objects) => {\n\t\tfor (const object of objects) {\n\t\t\tfor (const key in object) {\n\t\t\t\tif (object.hasOwnProperty(key)) {\n\t\t\t\t\t// since we're dealing relatively simple objects this should work fine\n\t\t\t\t\tif (object[key] && typeof object[key] === \"object\") {\n\t\t\t\t\t\tif (!target[key]) {\n\t\t\t\t\t\t\ttarget[key] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// recursively merge into the target\n\t\t\t\t\t\t// configs only run 3 or 4 levels deep, so no stack explosions\n\t\t\t\t\t\ttarget[key] = merge(target[key], object[key]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget[key] = object[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t};\n\n\t/**************************************\n\t *  DOM-related operations            *\n\t *************************************/\n\n\t/**\n\t * Get width & height of an element\n\t *\n\t * @export\n\t * @param {any} el element to get dimensions from\n\t * @returns an object containing the width and height of el\n\t */\n\texport function getDimensions(el) {\n\t\treturn {\n\t\t\twidth: parseFloat(el.style.width.replace(\"px\", \"\") || el.offsetWidth),\n\t\t\theight: parseFloat(el.style.height.replace(\"px\", \"\") || el.offsetHeight)\n\t\t};\n\t}\n\n\t/**\n\t * Returns element if it  exists, otherwise creates and returns reference to item\n\t * @param parent Element parent to query within\n\t * @param query The element to return from the DOM\n\t */\n\texport function appendOrSelect(parent, query) {\n\t\tconst l = query.split(\".\");\n\t\tconst elementToAppend = l[0];\n\n\t\tconst g = parent.select(query);\n\t\tif (g.empty()) {\n\t\t\treturn parent.append(elementToAppend)\n\t\t\t\t.attr(\"class\", l.slice(1).join(\" \"));\n\t\t}\n\t\treturn g;\n\t}\n\n\t/**\n\t * Returns an elements's x and y translations from its computed style\n\t * @param {HTMLElement} element\n\t * @returns an object containing the x and y translations\n\t */\n\texport function getTranslationValues(elementRef: HTMLElement) {\n\t\t// returns matrix(a, b, c, d, tx, ty) of transformation values (2d transform)\n\t\tconst transformMatrix = window.getComputedStyle(elementRef).getPropertyValue(\"transform\").replace(/\\s/g, \"\");\n\n\t\tconst transformValues = transformMatrix.substring(transformMatrix.indexOf(\"(\") + 1, transformMatrix.indexOf(\")\")).split(\",\");\n\n\t\t// if there are no translations, return { dx: 0,  dy: 0 } instead of undefined\n\t\treturn {\n\t\t\ttx: transformValues[4] ? transformValues[4] : 0,\n\t\t\tty: transformValues[5] ? transformValues[5] : 0\n\t\t};\n\t}\n\n\t/**************************************\n\t *  Formatting & calculations         *\n\t *************************************/\n\n\t/**\n\t * Gets x and y coordinates from a HTML transform attribute\n\t *\n\t * @export\n\t * @param {any} string the transform attribute string ie. transform(x,y)\n\t * @returns Returns an object with x and y offsets of the transform\n\t */\n\texport function getTranformOffsets(string) {\n\t\tconst regExp = /\\(([^)]+)\\)/;\n\t\tconst match = regExp.exec(string)[1];\n\t\tconst xyString = match.split(\",\");\n\n\t\treturn {\n\t\t\tx: parseFloat(xyString[0]),\n\t\t\ty: parseFloat(xyString[1])\n\t\t};\n\t}\n\n\texport function formatWidthHeightValues(value) {\n\t\tconst stringValue = value.toString();\n\n\t\t// If the value provided contains any letters\n\t\t// Return it the same way\n\t\tif (stringValue.match(/[a-z]/i)) {\n\t\t\treturn stringValue;\n\t\t}\n\n\t\treturn stringValue + \"px\";\n\t}\n\n\t/**\n\t * Capitalizes first letter of a string\n\t *\n\t * @export\n\t * @param {any} string the string whose first letter you'd like to capitalize\n\t * @returns The input string with its first letter capitalized\n\t */\n\texport function capitalizeFirstLetter(string) {\n\t\treturn string[0].toUpperCase() + string.slice(1);\n\t}\n\n\t/**\n\t * Get the percentage of a datapoint compared to the entire data-set\n\t *\n\t * @export\n\t * @param {any} item\n\t * @param {any} fullData\n\t * @returns The percentage in the form of a string \"87%\"\n\t */\n\texport function convertValueToPercentage(item, fullData) {\n\t\treturn Math.floor(item / fullData.reduce((accum, val) => accum + val.value, 0) * 100) + \"%\";\n\t}\n\n\t/**************************************\n\t *  Object/array related checks       *\n\t *************************************/\n\t/**\n\t * Get the difference between two arrays' items\n\t *\n\t * @export\n\t * @param {any[]} oldArray\n\t * @param {any[]} newArray\n\t * @returns The items missing in newArray from oldArray, and items added to newArray compared to oldArray\n\t */\n\texport function arrayDifferences(oldArray: any[], newArray: any[]) {\n\t\tconst difference = {\n\t\t\tmissing: [],\n\t\t\tadded: []\n\t\t};\n\n\t\toldArray.forEach(element => {\n\t\t\tif (newArray.indexOf(element) === -1) {\n\t\t\t\tdifference.missing.push(element);\n\t\t\t}\n\t\t});\n\n\t\tnewArray.forEach(element => {\n\t\t\tif (oldArray.indexOf(element) === -1) {\n\t\t\t\tdifference.added.push(element);\n\t\t\t}\n\t\t});\n\n\t\treturn difference;\n\t}\n\n\t/**\n\t * Lists out the duplicated keys in an array of data\n\t *\n\t * @export\n\t * @param {*} data - array of data\n\t * @returns A list of the duplicated keys in data\n\t */\n\texport function getDuplicateValues(arr: any) {\n\t\tconst values = [];\n\t\tconst duplicateValues = [];\n\n\t\tarr.forEach(value => {\n\t\t\tif (values.indexOf(value) !== -1 && duplicateValues.indexOf(value) === -1) {\n\t\t\t\tduplicateValues.push(value);\n\t\t\t}\n\n\t\t\tvalues.push(value);\n\t\t});\n\n\t\treturn duplicateValues;\n\t}\n\n\texport function removeArrayDuplicates(arr): any[] {\n\t\t// Casting to any because of the lack of typescript types\n\t\t// Set removes duplicates automatically\n\t\tconst result = new Set(arr) as any;\n\n\t\t// Spread operator appends all elements from result into []\n\t\treturn [...result];\n\t}\n\n\t// ================================================================================\n\t// D3 Extensions\n\t// ================================================================================\n\t/**\n\t * In D3, moves an element to the front of the canvas\n\t *\n\t * @export\n\t * @param {any} element\n\t * @returns The function to be used by D3 to push element to the top of the canvas\n\t */\n\texport function moveToFront(element) {\n\t\treturn element.each(function() {\n\t\t\tthis.parentNode.appendChild(this);\n\t\t});\n\t}\n\n\t// ================================================================================\n\t// Style Helpers\n\t// ================================================================================\n\n\texport const getProperty = (object, ...propPath) => {\n\t\tlet position = object;\n\t\tfor (const prop of propPath) {\n\t\t\tif (position[prop]) {\n\t\t\t\tposition = position[prop];\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\treturn position;\n\t};\n}\n"],"sourceRoot":""}